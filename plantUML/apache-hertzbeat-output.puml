@startuml
package org {
package apache {
package hertzbeat {
package manager {
package component {
package listener {
class TimeZoneListener    {
  objectMapper : ObjectMapper
  onEvent(event : SystemConfigChangeEvent) : void
}
TimeZoneListener::onEvent --> org.apache.hertzbeat.common.support.event.SystemConfigChangeEvent::getSource : event.getSource() 
TimeZoneListener::onEvent --> com.fasterxml.jackson.databind.ObjectMapper::setTimeZone : objectMapper.setTimeZone(TimeZone.getDefault()).setDateFormat(simpleDateFormat) 
TimeZoneListener::onEvent --> com.fasterxml.jackson.databind.ObjectMapper::setTimeZone : objectMapper.setTimeZone(TimeZone.getDefault()) 
}
package sd {
class ServiceDiscoveryWorker  implements org.springframework.beans.factory.InitializingBean  {
  monitorService : MonitorService
  paramDao : ParamDao
  monitorDao : MonitorDao
  monitorBindDao : MonitorBindDao
  collectorMonitorBindDao : CollectorMonitorBindDao
  dataQueue : CommonDataQueue
  workerPool : ManagerWorkerPool
  ServiceDiscoveryWorker(monitorService : MonitorService, paramDao : ParamDao, monitorDao : MonitorDao, monitorBindDao : MonitorBindDao, collectorMonitorBindDao : CollectorMonitorBindDao, dataQueue : CommonDataQueue, workerPool : ManagerWorkerPool) : None
  afterPropertiesSet() : void
}
ServiceDiscoveryWorker::afterPropertiesSet --> org.apache.hertzbeat.manager.scheduler.ManagerWorkerPool::executeJob : workerPool.executeJob(newSdUpdateTask()) 
class SdUpdateTask    {
  run() : void
}
}
package status {
class CalculateStatus    {
  DEFAULT_CALCULATE_INTERVAL_TIME : int
  statusPageOrgDao : StatusPageOrgDao
  statusPageComponentDao : StatusPageComponentDao
  statusPageHistoryDao : StatusPageHistoryDao
  monitorDao : MonitorDao
  intervals : int
  CalculateStatus(statusPageOrgDao : StatusPageOrgDao, statusPageComponentDao : StatusPageComponentDao, statusProperties : StatusProperties, statusPageHistoryDao : StatusPageHistoryDao, monitorDao : MonitorDao) : None
  startCalculate() : void
  startCombineHistory() : void
  getCalculateStatusIntervals() : int
}
CalculateStatus::startCalculate --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::findAll : statusPageOrgDao.findAll() 
CalculateStatus::startCalculate --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findByOrgId : statusPageComponentDao.findByOrgId(orgId) 
CalculateStatus::startCalculate --> org.apache.hertzbeat.manager.dao.MonitorDao::findAll : monitorDao.findAll(specification) 
CalculateStatus::startCalculate --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::save : statusPageComponentDao.save(component) 
CalculateStatus::startCalculate --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::save : statusPageHistoryDao.save(statusPageHistory) 
CalculateStatus::startCalculate --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::save : statusPageOrgDao.save(statusPageOrg) 
CalculateStatus::startCombineHistory --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::findStatusPageHistoriesByTimestampBetween : statusPageHistoryDao.findStatusPageHistoriesByTimestampBetween(preNightTimestamp,midnightTimestamp) 
CalculateStatus::startCombineHistory --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::deleteAll : statusPageHistoryDao.deleteAll(statusPageHistoryList) 
CalculateStatus::startCombineHistory --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::save : statusPageHistoryDao.save(history) 
}
}
package config {
class AiProperties    {
  type : String
  model : String
  apiKey : String
  apiSecret : String
}
class AngularErrorViewResolver    {
  SERIES_VIEWS : Map<HttpStatus.Series,String>
  NOT_FOUND_CODE : String
  applicationContext : ApplicationContext
  resources : WebProperties.Resources
  templateAvailabilityProviders : TemplateAvailabilityProviders
  order : int
  AngularErrorViewResolver(applicationContext : ApplicationContext, webProperties : WebProperties) : None
  resolveErrorView(request : HttpServletRequest, status : HttpStatus, model : Map<String,Object>) : ModelAndView
  resolve(viewName : String, model : Map<String,Object>) : ModelAndView
  resolveResource(viewName : String, model : Map<String,Object>) : ModelAndView
  getOrder() : int
  setOrder(order : int) : void
}
AngularErrorViewResolver::resolve --> org.springframework.boot.autoconfigure.template.TemplateAvailabilityProviders::getProvider : templateAvailabilityProviders.getProvider(errorViewName,applicationContext) 
AngularErrorViewResolver::resolveResource --> org.springframework.context.ApplicationContext::getResource : applicationContext.getResource(location) 
class HtmlResourceView    {
  resource : Resource
  HtmlResourceView(resource : Resource) : None
  getContentType() : String
  render(model : Map<String,?>, request : HttpServletRequest, response : HttpServletResponse) : void
}
class ConfigInitializer  implements org.springframework.context.SmartLifecycle  {
  running : boolean
  DEFAULT_JWT_SECRET : String
  currentJwtSecret : String
  systemGeneralConfigService : SystemGeneralConfigServiceImpl
  systemSecretService : SystemSecretServiceImpl
  templateConfigService : TemplateConfigServiceImpl
  muteGeneralConfigService : MuteGeneralConfigServiceImpl
  appService : AppService
  generalConfigDao : GeneralConfigDao
  objectMapper : ObjectMapper
  initConfig() : void
  start() : void
  stop() : void
  isRunning() : boolean
  getPhase() : int
}
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.SystemGeneralConfigServiceImpl::getConfig : systemGeneralConfigService.getConfig() 
ConfigInitializer::initConfig --> com.fasterxml.jackson.databind.ObjectMapper::setTimeZone : objectMapper.setTimeZone(TimeZone.getDefault()).setDateFormat(simpleDateFormat) 
ConfigInitializer::initConfig --> com.fasterxml.jackson.databind.ObjectMapper::setTimeZone : objectMapper.setTimeZone(TimeZone.getDefault()) 
ConfigInitializer::initConfig --> com.fasterxml.jackson.databind.ObjectMapper::writeValueAsString : objectMapper.writeValueAsString(systemConfig) 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.SystemGeneralConfigServiceImpl::type : systemGeneralConfigService.type() 
ConfigInitializer::initConfig --> org.apache.hertzbeat.base.dao.GeneralConfigDao::save : generalConfigDao.save(generalConfig2Save) 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.TemplateConfigServiceImpl::getConfig : templateConfigService.getConfig() 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.AppService::updateCustomTemplateConfig : appService.updateCustomTemplateConfig(templateConfig) 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.SystemSecretServiceImpl::getConfig : systemSecretService.getConfig() 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.SystemSecretServiceImpl::saveConfig : systemSecretService.saveConfig(systemSecret) 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.MuteGeneralConfigServiceImpl::getConfig : muteGeneralConfigService.getConfig() 
ConfigInitializer::initConfig --> org.apache.hertzbeat.manager.service.impl.MuteGeneralConfigServiceImpl::saveConfig : muteGeneralConfigService.saveConfig(muteConfig) 
class FlywayConfiguration    {
  flywayInitializer(flyway : Flyway) : FlywayMigrationInitializer
}
class Dummy    {
  delayedFlywayInitializer(flyway : Flyway, flywayProperties : FlywayProperties) : Dummy
}
class HeaderRequestInterceptor  implements org.springframework.http.client.ClientHttpRequestInterceptor  {
  intercept(request : HttpRequest, body : byte[], execution : ClientHttpRequestExecution) : ClientHttpResponse
}
HeaderRequestInterceptor::intercept --> org.springframework.http.HttpRequest::getHeaders : request.getHeaders().getContentType() 
HeaderRequestInterceptor::intercept --> org.springframework.http.HttpRequest::getHeaders : request.getHeaders() 
HeaderRequestInterceptor::intercept --> org.springframework.http.HttpRequest::getHeaders : request.getHeaders().setContentType(MediaType.APPLICATION_JSON) 
HeaderRequestInterceptor::intercept --> org.springframework.http.HttpRequest::getHeaders : request.getHeaders() 
HeaderRequestInterceptor::intercept --> org.springframework.http.HttpRequest::getHeaders : request.getHeaders().add(HttpHeaders.CONNECTION,"close") 
HeaderRequestInterceptor::intercept --> org.springframework.http.HttpRequest::getHeaders : request.getHeaders() 
HeaderRequestInterceptor::intercept --> org.springframework.http.client.ClientHttpRequestExecution::execute : execution.execute(request,body) 
class JacksonConfig    {
  customizer() : Jackson2ObjectMapperBuilderCustomizer
  objectMapper(builder : Jackson2ObjectMapperBuilder) : ObjectMapper
}
JacksonConfig::customizer --> org.springframework.http.converter.json.Jackson2ObjectMapperBuilder::modules : builder.modules(javaTimeModule).timeZone(TimeZone.getDefault()).dateFormat(simpleDateFormat) 
JacksonConfig::customizer --> org.springframework.http.converter.json.Jackson2ObjectMapperBuilder::modules : builder.modules(javaTimeModule).timeZone(TimeZone.getDefault()) 
JacksonConfig::customizer --> org.springframework.http.converter.json.Jackson2ObjectMapperBuilder::modules : builder.modules(javaTimeModule) 
JacksonConfig::objectMapper --> org.springframework.http.converter.json.Jackson2ObjectMapperBuilder::build : builder.build() 
class JpaAuditorConfig    {
  getCurrentAuditor() : Optional<String>
}
class ManagerSseManager    {
  emitters : Map<Long,SseEmitter>
  createEmitter(clientId : Long) : SseEmitter
  broadcast(eventName : String, data : String) : void
  broadcastImportTaskInProgress(taskName : String, progress : Integer) : void
  broadcastImportTaskSuccess(taskName : String) : void
  broadcastImportTaskFail(taskName : String, errMsg : String) : void
  removeEmitter(clientId : Long) : void
}
class RestTemplateConfig    {
  restTemplate(factory : ClientHttpRequestFactory) : RestTemplate
  simpleClientHttpRequestFactory() : ClientHttpRequestFactory
}
class SchedulerConfig    {
  consistentHasInstance() : ConsistentHash
}
class SecurityCorsConfiguration    {
  corsFilter() : FilterRegistrationBean
}
class StatusProperties    {
  calculate : CalculateProperties
}
class CalculateProperties    {
  interval : Integer
}
class SwaggerConfig    {
  SECURITY_SCHEME_NAME : String
  springOpenApi() : OpenAPI
}
}
package controller {
class AccountController    {
  accountService : AccountService
  authGetToken(loginDto : LoginDto) : ResponseEntity<Message<Map<String,String>>>
  refreshToken(tokenDto : TokenDto) : ResponseEntity<Message<RefreshTokenResponse>>
}
AccountController::authGetToken --> org.apache.hertzbeat.manager.service.AccountService::authGetToken : accountService.authGetToken(loginDto) 
AccountController::refreshToken --> org.apache.hertzbeat.manager.service.AccountService::refreshToken : accountService.refreshToken(tokenDto.getToken()) 
AccountController::refreshToken --> org.apache.hertzbeat.manager.pojo.dto.TokenDto::getToken : tokenDto.getToken() 
class AiController    {
  aiServiceFactory : AiServiceFactoryImpl
  aiProperties : AiProperties
  requestAi(requestParam : AiControllerRequestParam) : Flux<ServerSentEvent<String>>
}
AiController::requestAi --> org.apache.hertzbeat.manager.service.ai.factory.AiServiceFactoryImpl::getAiServiceImplBean : aiServiceFactory.getAiServiceImplBean(aiProperties.getType()) 
AiController::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getType : aiProperties.getType() 
AiController::requestAi --> org.apache.hertzbeat.manager.pojo.dto.AiControllerRequestParam::getText : requestParam.getText() 
class AppController    {
  RISKY_STR_ARR : String[]
  appService : AppService
  queryAppParamDefines(app : String) : ResponseEntity<Message<List<ParamDefine>>>
  queryPushDefine(monitorId : Long) : ResponseEntity<Message<Job>>
  queryAutoGenerateDynamicAppDefine(monitorId : Long) : ResponseEntity<Message<Job>>
  queryAppDefine(app : String) : ResponseEntity<Message<Job>>
  queryAppDefineYml(app : String) : ResponseEntity<Message<String>>
  deleteAppDefineYml(app : String) : ResponseEntity<Message<Void>>
  newAppDefineYml(defineDto : MonitorDefineDto) : ResponseEntity<Message<Void>>
  updateAppDefineYml(defineDto : MonitorDefineDto) : ResponseEntity<Message<Void>>
  queryAppsHierarchy(lang : String) : ResponseEntity<Message<List<Hierarchy>>>
  queryAppsHierarchyByApp(lang : String, app : String) : ResponseEntity<Message<List<Hierarchy>>>
  getAllAppDefines(lang : String) : ResponseEntity<Message<Map<String,String>>>
  getLang(lang : String) : String
}
AppController::queryAppParamDefines --> org.apache.hertzbeat.manager.service.AppService::getAppParamDefines : appService.getAppParamDefines(app.toLowerCase()) 
AppController::queryPushDefine --> org.apache.hertzbeat.manager.service.AppService::getPushDefine : appService.getPushDefine(monitorId) 
AppController::queryAutoGenerateDynamicAppDefine --> org.apache.hertzbeat.manager.service.AppService::getAutoGenerateDynamicDefine : appService.getAutoGenerateDynamicDefine(monitorId) 
AppController::queryAppDefine --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(app.toLowerCase()) 
AppController::queryAppDefineYml --> org.apache.hertzbeat.manager.service.AppService::getMonitorDefineFileContent : appService.getMonitorDefineFileContent(app) 
AppController::deleteAppDefineYml --> org.apache.hertzbeat.manager.service.AppService::deleteMonitorDefine : appService.deleteMonitorDefine(app) 
AppController::newAppDefineYml --> org.apache.hertzbeat.manager.service.AppService::applyMonitorDefineYml : appService.applyMonitorDefineYml(defineDto.getDefine(),false) 
AppController::updateAppDefineYml --> org.apache.hertzbeat.manager.service.AppService::applyMonitorDefineYml : appService.applyMonitorDefineYml(defineDto.getDefine(),true) 
AppController::queryAppsHierarchy --> org.apache.hertzbeat.manager.service.AppService::getAllAppHierarchy : appService.getAllAppHierarchy(newLang) 
AppController::queryAppsHierarchyByApp --> org.apache.hertzbeat.manager.service.AppService::getAppHierarchy : appService.getAppHierarchy(app,newLang) 
AppController::getAllAppDefines --> org.apache.hertzbeat.manager.service.AppService::getI18nApps : appService.getI18nApps(newLang) 
class AuthTokenController    {
  accountService : AccountService
  generateToken() : ResponseEntity<Message<Map<String,String>>>
}
AuthTokenController::generateToken --> org.apache.hertzbeat.manager.service.AccountService::generateToken : accountService.generateToken() 
class BulletinController    {
  bulletinService : BulletinService
  realTimeDataReader : RealTimeDataReader
  addNewBulletin(bulletin : Bulletin) : ResponseEntity<Message<Void>>
  editBulletin(bulletin : Bulletin) : ResponseEntity<Message<Void>>
  getBulletin(id : Long) : ResponseEntity<Message<Bulletin>>
  queryBulletins(search : String, pageIndex : Integer, pageSize : Integer) : ResponseEntity<Message<Page<Bulletin>>>
  deleteBulletin(ids : List<Long>) : ResponseEntity<Message<Void>>
  getAllMetricsData(id : Long) : ResponseEntity<Message<?>>
}
BulletinController::addNewBulletin --> org.apache.hertzbeat.manager.service.BulletinService::validate : bulletinService.validate(bulletin) 
BulletinController::addNewBulletin --> org.apache.hertzbeat.manager.service.BulletinService::addBulletin : bulletinService.addBulletin(bulletin) 
BulletinController::editBulletin --> org.apache.hertzbeat.manager.service.BulletinService::validate : bulletinService.validate(bulletin) 
BulletinController::editBulletin --> org.apache.hertzbeat.manager.service.BulletinService::editBulletin : bulletinService.editBulletin(bulletin) 
BulletinController::getBulletin --> org.apache.hertzbeat.manager.service.BulletinService::getBulletinById : bulletinService.getBulletinById(id).orElse(null) 
BulletinController::getBulletin --> org.apache.hertzbeat.manager.service.BulletinService::getBulletinById : bulletinService.getBulletinById(id) 
BulletinController::queryBulletins --> org.apache.hertzbeat.manager.service.BulletinService::getBulletins : bulletinService.getBulletins(search,pageIndex,pageSize) 
BulletinController::deleteBulletin --> org.apache.hertzbeat.manager.service.BulletinService::deleteBulletins : bulletinService.deleteBulletins(ids) 
BulletinController::getAllMetricsData --> org.apache.hertzbeat.warehouse.store.realtime.RealTimeDataReader::isServerAvailable : realTimeDataReader.isServerAvailable() 
BulletinController::getAllMetricsData --> org.apache.hertzbeat.manager.service.BulletinService::buildBulletinMetricsData : bulletinService.buildBulletinMetricsData(id) 
class CollectorController    {
  collectorService : CollectorService
  getCollectors(name : String, pageIndex : int, pageSize : Integer) : ResponseEntity<Message<Page<CollectorSummary>>>
  onlineCollector(collectors : List<String>) : ResponseEntity<Message<Void>>
  offlineCollector(collectors : List<String>) : ResponseEntity<Message<Void>>
  deleteCollector(collectors : List<String>) : ResponseEntity<Message<Void>>
  generateCollectorDeployInfo(collector : String) : ResponseEntity<Message<Map<String,String>>>
}
CollectorController::getCollectors --> org.apache.hertzbeat.manager.service.CollectorService::getCollectors : collectorService.getCollectors(name,pageIndex,pageSize) 
CollectorController::onlineCollector --> org.apache.hertzbeat.manager.service.CollectorService::makeCollectorsOnline : collectorService.makeCollectorsOnline(collectors) 
CollectorController::offlineCollector --> org.apache.hertzbeat.manager.service.CollectorService::makeCollectorsOffline : collectorService.makeCollectorsOffline(collectors) 
CollectorController::deleteCollector --> org.apache.hertzbeat.manager.service.CollectorService::deleteRegisteredCollector : collectorService.deleteRegisteredCollector(collectors) 
CollectorController::generateCollectorDeployInfo --> org.apache.hertzbeat.manager.service.CollectorService::generateCollectorDeployInfo : collectorService.generateCollectorDeployInfo(collector) 
class GeneralConfigController    {
  configService : ConfigService
  saveOrUpdateConfig(type : String, config : Object) : ResponseEntity<Message<String>>
  getConfig(type : String) : ResponseEntity<Message<Object>>
  updateTemplateAppConfig(app : String, template : TemplateConfig.AppTemplate) : ResponseEntity<Message<Void>>
}
GeneralConfigController::saveOrUpdateConfig --> org.apache.hertzbeat.manager.service.ConfigService::saveConfig : configService.saveConfig(type,config) 
GeneralConfigController::getConfig --> org.apache.hertzbeat.manager.service.ConfigService::getConfig : configService.getConfig(type) 
GeneralConfigController::updateTemplateAppConfig --> org.apache.hertzbeat.manager.service.ConfigService::updateTemplateAppConfig : configService.updateTemplateAppConfig(app,template) 
class I18nController    {
  appService : AppService
  queryI18n(lang : String) : ResponseEntity<Message<Map<String,String>>>
}
I18nController::queryI18n --> org.apache.hertzbeat.manager.service.AppService::getI18nResources : appService.getI18nResources(lang) 
class ManagerSseController    {
  emitterManager : ManagerSseManager
  ManagerSseController(emitterManager : ManagerSseManager) : None
  subscribe() : SseEmitter
}
ManagerSseController::subscribe --> org.apache.hertzbeat.manager.config.ManagerSseManager::createEmitter : emitterManager.createEmitter(clientId) 
class MetricsController    {
  commonDataQueue : CommonDataQueue
  getMetricsInfo() : ResponseEntity<Message<Map<String,Object>>>
}
class MonitorController    {
  monitorService : MonitorService
  addNewMonitor(monitorDto : MonitorDto) : ResponseEntity<Message<Void>>
  modifyMonitor(monitorDto : MonitorDto) : ResponseEntity<Message<Void>>
  getMonitor(id : long) : ResponseEntity<Message<MonitorDto>>
  deleteMonitor(id : long) : ResponseEntity<Message<Void>>
  detectMonitor(monitorDto : MonitorDto) : ResponseEntity<Message<Void>>
  copyMonitor(id : Long) : ResponseEntity<Message<Void>>
}
MonitorController::addNewMonitor --> org.apache.hertzbeat.manager.service.MonitorService::validate : monitorService.validate(monitorDto,false) 
MonitorController::addNewMonitor --> org.apache.hertzbeat.manager.service.MonitorService::addMonitor : monitorService.addMonitor(monitorDto.getMonitor(),monitorDto.getParams(),monitorDto.getCollector(),monitorDto.getGrafanaDashboard()) 
MonitorController::modifyMonitor --> org.apache.hertzbeat.manager.service.MonitorService::validate : monitorService.validate(monitorDto,true) 
MonitorController::modifyMonitor --> org.apache.hertzbeat.manager.service.MonitorService::modifyMonitor : monitorService.modifyMonitor(monitorDto.getMonitor(),monitorDto.getParams(),monitorDto.getCollector(),monitorDto.getGrafanaDashboard()) 
MonitorController::getMonitor --> org.apache.hertzbeat.manager.service.MonitorService::getMonitorDto : monitorService.getMonitorDto(id) 
MonitorController::deleteMonitor --> org.apache.hertzbeat.manager.service.MonitorService::getMonitor : monitorService.getMonitor(id) 
MonitorController::deleteMonitor --> org.apache.hertzbeat.manager.service.MonitorService::deleteMonitor : monitorService.deleteMonitor(id) 
MonitorController::detectMonitor --> org.apache.hertzbeat.manager.service.MonitorService::validate : monitorService.validate(monitorDto,null) 
MonitorController::detectMonitor --> org.apache.hertzbeat.manager.service.MonitorService::detectMonitor : monitorService.detectMonitor(monitorDto.getMonitor(),monitorDto.getParams(),monitorDto.getCollector()) 
MonitorController::copyMonitor --> org.apache.hertzbeat.manager.service.MonitorService::copyMonitor : monitorService.copyMonitor(id) 
class MonitorsController    {
  monitorService : MonitorService
  getMonitors(ids : List<Long>, app : String, status : Byte, search : String, labels : String, sort : String, order : String, pageIndex : int, pageSize : int) : ResponseEntity<Message<Page<Monitor>>>
  getAppMonitors(app : String) : ResponseEntity<Message<List<Monitor>>>
  deleteMonitors(ids : List<Long>) : ResponseEntity<Message<Void>>
  cancelManageMonitors(ids : List<Long>) : ResponseEntity<Message<Void>>
  enableManageMonitors(ids : List<Long>) : ResponseEntity<Message<Void>>
  export(ids : List<Long>, type : String, res : HttpServletResponse) : void
  export(file : MultipartFile) : ResponseEntity<Message<Void>>
  duplicateMonitors(ids : List<Long>) : ResponseEntity<Message<Void>>
}
MonitorsController::getMonitors --> org.apache.hertzbeat.manager.service.MonitorService::getMonitors : monitorService.getMonitors(ids,app,search,status,sort,order,pageIndex,pageSize,labels) 
MonitorsController::getAppMonitors --> org.apache.hertzbeat.manager.service.MonitorService::getAppMonitors : monitorService.getAppMonitors(app) 
MonitorsController::deleteMonitors --> org.apache.hertzbeat.manager.service.MonitorService::deleteMonitors : monitorService.deleteMonitors(newHashSet<>(ids)) 
MonitorsController::cancelManageMonitors --> org.apache.hertzbeat.manager.service.MonitorService::cancelManageMonitors : monitorService.cancelManageMonitors(newHashSet<>(ids)) 
MonitorsController::enableManageMonitors --> org.apache.hertzbeat.manager.service.MonitorService::enableManageMonitors : monitorService.enableManageMonitors(newHashSet<>(ids)) 
MonitorsController::export --> org.apache.hertzbeat.manager.service.MonitorService::export : monitorService.export(ids,type,res) 
MonitorsController::export --> org.apache.hertzbeat.manager.service.MonitorService::importConfig : monitorService.importConfig(file) 
MonitorsController::duplicateMonitors --> org.apache.hertzbeat.manager.service.MonitorService::copyMonitors : monitorService.copyMonitors(ids) 
class PluginController    {
  pluginService : PluginService
  uploadNewPlugin(pluginUpload : PluginUpload) : ResponseEntity<Message<Void>>
  getPlugins(search : String, pageIndex : int, pageSize : int) : ResponseEntity<Message<Page<PluginMetadata>>>
  deletePlugins(ids : List<Long>) : ResponseEntity<Message<Void>>
  updatePluginStatus(plugin : PluginMetadata) : ResponseEntity<Message<Void>>
  getParamDefine(pluginMetadataId : Long) : ResponseEntity<Message<PluginParametersVO>>
  saveParams(pluginParams : List<PluginParam>) : ResponseEntity<Message<Boolean>>
}
PluginController::uploadNewPlugin --> org.apache.hertzbeat.manager.service.PluginService::savePlugin : pluginService.savePlugin(pluginUpload) 
PluginController::getPlugins --> org.apache.hertzbeat.manager.service.PluginService::getPlugins : pluginService.getPlugins(search,pageIndex,pageSize) 
PluginController::deletePlugins --> org.apache.hertzbeat.manager.service.PluginService::deletePlugins : pluginService.deletePlugins(newHashSet<>(ids)) 
PluginController::updatePluginStatus --> org.apache.hertzbeat.manager.service.PluginService::updateStatus : pluginService.updateStatus(plugin) 
PluginController::getParamDefine --> org.apache.hertzbeat.manager.service.PluginService::getParamDefine : pluginService.getParamDefine(pluginMetadataId) 
PluginController::saveParams --> org.apache.hertzbeat.manager.service.PluginService::savePluginParam : pluginService.savePluginParam(pluginParams) 
class StatusPageController    {
  statusPageService : StatusPageService
  queryStatusPageOrg() : ResponseEntity<Message<StatusPageOrg>>
  saveStatusPageOrg(statusPageOrg : StatusPageOrg) : ResponseEntity<Message<StatusPageOrg>>
  queryStatusPageComponent() : ResponseEntity<Message<List<StatusPageComponent>>>
  newStatusPageComponent(statusPageComponent : StatusPageComponent) : ResponseEntity<Message<Void>>
  updateStatusPageComponent(statusPageComponent : StatusPageComponent) : ResponseEntity<Message<Void>>
  deleteStatusPageComponent(id : long) : ResponseEntity<Message<Void>>
  queryStatusPageComponent(id : long) : ResponseEntity<Message<StatusPageComponent>>
  newStatusPageIncident(incident : StatusPageIncident) : ResponseEntity<Message<Void>>
  updateStatusPageIncident(incident : StatusPageIncident) : ResponseEntity<Message<Void>>
  deleteStatusPageIncident(id : long) : ResponseEntity<Message<Void>>
  queryStatusPageIncident(id : long) : ResponseEntity<Message<StatusPageIncident>>
  queryStatusPageIncident() : ResponseEntity<Message<List<StatusPageIncident>>>
}
StatusPageController::queryStatusPageOrg --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageOrg : statusPageService.queryStatusPageOrg() 
StatusPageController::saveStatusPageOrg --> org.apache.hertzbeat.manager.service.StatusPageService::saveStatusPageOrg : statusPageService.saveStatusPageOrg(statusPageOrg) 
StatusPageController::queryStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageComponents : statusPageService.queryStatusPageComponents() 
StatusPageController::newStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::newStatusPageComponent : statusPageService.newStatusPageComponent(statusPageComponent) 
StatusPageController::updateStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::updateStatusPageComponent : statusPageService.updateStatusPageComponent(statusPageComponent) 
StatusPageController::deleteStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::deleteStatusPageComponent : statusPageService.deleteStatusPageComponent(id) 
StatusPageController::queryStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageComponent : statusPageService.queryStatusPageComponent(id) 
StatusPageController::newStatusPageIncident --> org.apache.hertzbeat.manager.service.StatusPageService::newStatusPageIncident : statusPageService.newStatusPageIncident(incident) 
StatusPageController::updateStatusPageIncident --> org.apache.hertzbeat.manager.service.StatusPageService::updateStatusPageIncident : statusPageService.updateStatusPageIncident(incident) 
StatusPageController::deleteStatusPageIncident --> org.apache.hertzbeat.manager.service.StatusPageService::deleteStatusPageIncident : statusPageService.deleteStatusPageIncident(id) 
StatusPageController::queryStatusPageIncident --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageIncident : statusPageService.queryStatusPageIncident(id) 
StatusPageController::queryStatusPageIncident --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageIncidents : statusPageService.queryStatusPageIncidents() 
class StatusPagePublicController    {
  statusPageService : StatusPageService
  queryStatusPageOrg() : ResponseEntity<Message<StatusPageOrg>>
  queryStatusPageComponent() : ResponseEntity<Message<List<ComponentStatus>>>
  queryStatusPageComponent(id : long) : ResponseEntity<Message<ComponentStatus>>
  queryStatusPageIncident() : ResponseEntity<Message<List<StatusPageIncident>>>
}
StatusPagePublicController::queryStatusPageOrg --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageOrg : statusPageService.queryStatusPageOrg() 
StatusPagePublicController::queryStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::queryComponentsStatus : statusPageService.queryComponentsStatus() 
StatusPagePublicController::queryStatusPageComponent --> org.apache.hertzbeat.manager.service.StatusPageService::queryComponentStatus : statusPageService.queryComponentStatus(id) 
StatusPagePublicController::queryStatusPageIncident --> org.apache.hertzbeat.manager.service.StatusPageService::queryStatusPageIncidents : statusPageService.queryStatusPageIncidents() 
class SummaryController    {
  monitorService : MonitorService
  appMonitors() : ResponseEntity<Message<Dashboard>>
}
SummaryController::appMonitors --> org.apache.hertzbeat.manager.service.MonitorService::getAllAppMonitorsCount : monitorService.getAllAppMonitorsCount() 
class TagController    {
  tagService : TagService
  addNewTags(tags : List<Tag>) : ResponseEntity<Message<Void>>
  modifyMonitor(tag : Tag) : ResponseEntity<Message<Void>>
  getTags(search : String, type : Byte, pageIndex : int, pageSize : int) : ResponseEntity<Message<Page<Tag>>>
  deleteTags(ids : List<Long>) : ResponseEntity<Message<Void>>
}
TagController::addNewTags --> org.apache.hertzbeat.manager.service.TagService::addTags : tagService.addTags(tags) 
TagController::modifyMonitor --> org.apache.hertzbeat.manager.service.TagService::modifyTag : tagService.modifyTag(tag) 
TagController::getTags --> org.apache.hertzbeat.manager.service.TagService::getTags : tagService.getTags(search,type,pageIndex,pageSize) 
TagController::deleteTags --> org.apache.hertzbeat.manager.service.TagService::deleteTags : tagService.deleteTags(newHashSet<>(ids)) 
}
package dao {
interface BulletinDao    {
  deleteByNameIn(names : List<String>) : void
  findByName(name : String) : Bulletin
  countByName(name : String) : int
}
interface CollectorDao    {
  findCollectorByName(name : String) : Optional<Collector>
  deleteCollectorByName(collector : String) : void
}
interface CollectorMonitorBindDao    {
  findCollectorMonitorBindsByCollector(collector : String) : List<CollectorMonitorBind>
  findCollectorMonitorBindsByMonitorIdIn(monitorIds : Set<Long>) : List<CollectorMonitorBind>
  findCollectorMonitorBindByMonitorId(monitorId : Long) : Optional<CollectorMonitorBind>
  deleteCollectorMonitorBindsByMonitorId(monitorId : Long) : void
}
interface DefineDao    {
}
interface MonitorBindDao    {
  findAllByBizIdInAndType(bizIdList : Set<Long>, type : byte) : List<MonitorBind>
  findMonitorBindByBizIdAndType(bizId : Long, type : byte) : List<MonitorBind>
  findMonitorBindByBizIdAndMonitorIdAndType(bizId : Long, monitorId : Long, type : byte) : MonitorBind
  findAllByType(type : byte) : List<MonitorBind>
  deleteByMonitorId(monitorId : Long) : void
}
interface MonitorDao    {
  deleteAllByIdIn(monitorIds : Set<Long>) : void
  findMonitorsByIdIn(monitorIds : Set<Long>) : List<Monitor>
  findMonitorsByAppEquals(app : String) : List<Monitor>
  findMonitorsByStatusNotInAndJobIdNotNull(status : List<Byte>) : List<Monitor>
  findMonitorByNameEquals(name : String) : Optional<Monitor>
  findAppsStatusCount() : List<AppCount>
  updateMonitorStatus(id : Long, status : byte) : void
}
interface ParamDao    {
  findParamsByMonitorId(monitorId : Long) : List<Param>
  deleteParamsByMonitorId(monitorId : long) : void
  deleteParamsByMonitorIdIn(monitorIds : Set<Long>) : void
}
interface ParamDefineDao    {
  findParamDefinesByApp(app : String) : List<ParamDefine>
}
interface PluginItemDao    {
  countPluginItemByClassIdentifierIn(classIdentifiers : List<String>) : int
}
interface PluginMetadataDao    {
  countPluginMetadataByName(name : String) : int
  findPluginMetadataByEnableStatusTrue() : List<PluginMetadata>
}
interface PluginParamDao    {
  findParamsByPluginMetadataId(pluginMetadataId : Long) : List<PluginParam>
  deletePluginParamsByPluginMetadataId(pluginMetadataId : long) : void
  deletePluginParamsByPluginMetadataIdIn(pluginMetadataIds : Set<Long>) : void
}
interface StatusPageComponentDao    {
  findByOrgId(orgId : long) : List<StatusPageComponent>
}
interface StatusPageHistoryDao    {
  findStatusPageHistoriesByTimestampBetween(start : long, end : long) : List<StatusPageHistory>
  findStatusPageHistoriesByComponentIdAndTimestampBetween(componentId : long, start : long, end : long) : List<StatusPageHistory>
}
interface StatusPageIncidentComponentBindDao    {
  countByComponentId(componentId : long) : long
}
interface StatusPageIncidentDao    {
}
interface StatusPageOrgDao    {
}
interface TagDao    {
  deleteTagsByIdIn(ids : Set<Long>) : void
  findByIdIn(ids : Set<Long>) : List<Tag>
  findTagByNameAndTagValue(name : String, value : String) : Optional<Tag>
}
}
package nativex {
class HertzbeatRuntimeHintsRegistrar  implements org.springframework.aot.hint.RuntimeHintsRegistrar  {
  SshConstantsClassName : String
  registerHints(hints : RuntimeHints, classLoader : ClassLoader) : void
  registerConstructor(hints : RuntimeHints, clazz : Class<?>) : void
}
HertzbeatRuntimeHintsRegistrar::registerHints --> org.springframework.aot.hint.RuntimeHints::reflection : hints.reflection().registerTypes(Set.of(TypeReference.of(BouncyCastleSecurityProviderRegistrar.class),TypeReference.of(EdDSASecurityProviderRegistrar.class),TypeReference.of(Nio2ServiceFactory.class),TypeReference.of(Nio2ServiceFactoryFactory.class)),hint->hint.withMembers(MemberCategory.INVOKE_DECLARED_CONSTRUCTORS)) 
HertzbeatRuntimeHintsRegistrar::registerHints --> org.springframework.aot.hint.RuntimeHints::reflection : hints.reflection() 
HertzbeatRuntimeHintsRegistrar::registerHints --> org.springframework.aot.hint.RuntimeHints::reflection : hints.reflection().registerTypes(Set.of(TypeReference.of(PortForwardingEventListener.class)),hint->hint.withMembers(MemberCategory.INVOKE_DECLARED_CONSTRUCTORS,MemberCategory.INVOKE_DECLARED_METHODS,MemberCategory.DECLARED_FIELDS)) 
HertzbeatRuntimeHintsRegistrar::registerHints --> org.springframework.aot.hint.RuntimeHints::reflection : hints.reflection() 
HertzbeatRuntimeHintsRegistrar::registerHints --> org.springframework.aot.hint.RuntimeHints::proxies : hints.proxies().registerJdkProxy(TypeReference.of(ChannelListener.class),TypeReference.of(PortForwardingEventListener.class),TypeReference.of(SessionListener.class)) 
HertzbeatRuntimeHintsRegistrar::registerHints --> org.springframework.aot.hint.RuntimeHints::proxies : hints.proxies() 
HertzbeatRuntimeHintsRegistrar::registerConstructor --> org.springframework.aot.hint.RuntimeHints::reflection : hints.reflection().registerConstructor(declaredConstructor,ExecutableMode.INVOKE) 
HertzbeatRuntimeHintsRegistrar::registerConstructor --> org.springframework.aot.hint.RuntimeHints::reflection : hints.reflection() 
}
package pojo {
package dto {
class AiControllerRequestParam    {
  text : String
}
class AiMessage    {
  role : String
  content : String
}
class AliAiRequestParamDTO    {
  model : String
  input : Input
  parameters : Parameters
}
class Input    {
  messages : List<AiMessage>
}
class Parameters    {
  maxTokens : Integer
  temperature : float
  enableSearch : boolean
  resultFormat : String
  incrementalOutput : boolean
}
class AliAiResponse    {
  output : AliAiOutput
  usage : Tokens
}
class AliAiOutput    {
  choices : List<Choice>
}
class Choice    {
  finishReason : String
  message : AiMessage
}
class Tokens    {
  outputTokens : Integer
  inputTokens : Integer
  totalTokens : Integer
}
class AppCount    {
  category : String
  app : String
  status : byte
  size : long
  availableSize : long
  unManageSize : long
  unAvailableSize : long
  AppCount(app : String, status : byte, size : Long) : None
}
class BulletinMetricsData    {
  name : String
  content : List<Data>
}
class Data    {
  monitorName : String
  monitorId : Long
  host : String
  metrics : List<Metric>
}
class Metric    {
  name : String
  fields : List<List<Field>>
}
class Field    {
  key : String
  unit : String
  value : String
}
class ComponentStatus    {
  info : StatusPageComponent
  history : List<StatusPageHistory>
}
class Dashboard    {
  apps : List<AppCount>
}
class FileDTO    {
  name : String
  inputStream : InputStream
}
class Hierarchy    {
  category : String
  value : String
  label : String
  isLeaf : Boolean
  hide : Boolean
  type : Byte
  unit : String
  children : List<Hierarchy>
}
class LoginDto    {
  type : Byte
  identifier : String
  credential : String
}
class MonitorDefineDto    {
  define : String
}
class MonitorDto    {
  monitor : Monitor
  params : List<Param>
  metrics : List<String>
  collector : String
  grafanaDashboard : GrafanaDashboard
}
class MuteConfig    {
  mute : boolean
}
class ObjectStoreConfigChangeEvent extends org.springframework.context.ApplicationEvent   {
  config : ObjectStoreDTO<?>
  ObjectStoreConfigChangeEvent(config : ObjectStoreDTO<?>) : None
}
class ObjectStoreDTO    {
  type : Type
  config : T
}
class ObsConfig    {
  accessKey : String
  secretKey : String
  bucketName : String
  endpoint : String
  savePath : String
}
class OpenAiRequestParamDTO    {
  model : String
  messages : List<AiMessage>
  temperature : float
  maxTokens : Integer
  stream : Boolean
}
class OpenAiResponse    {
  id : String
  created : Long
  choices : List<Choice>
  usage : Tokens
}
class Choice    {
  index : int
  delta : AiMessage
}
class Tokens    {
  promptTokens : Integer
  completionTokens : Integer
  totalTokens : Integer
  convertToResponse(aiRes : String) : ServerSentEvent<String>
}
class ParamDefineDto    {
  app : String
  param : List<ParamDefine>
}
class PluginParam    {
  id : Long
  pluginMetadataId : Long
  field : String
  paramValue : String
  type : byte
  gmtCreate : LocalDateTime
  gmtUpdate : LocalDateTime
}
class PluginParametersVO    {
  paramDefines : List<ParamDefine>
  pluginParams : List<PluginParam>
}
class RefreshTokenResponse    {
  token : String
  refreshToken : String
}
class SystemConfig    {
  timeZoneId : String
  locale : String
  theme : String
}
class SystemSecret    {
  jwtSecret : String
}
class TemplateConfig    {
  apps : Map<String,AppTemplate>
}
class AppTemplate    {
  hide : boolean
}
class TokenDto    {
  token : String
}
}
}
package scheduler {
package netty {
package process {
class CollectCyclicDataResponseProcessor  implements org.apache.hertzbeat.remoting.netty.NettyRemotingProcessor  {
  handle(ctx : ChannelHandlerContext, message : ClusterMsg.Message) : ClusterMsg.Message
}
class CollectCyclicServiceDiscoveryDataResponseProcessor  implements org.apache.hertzbeat.remoting.netty.NettyRemotingProcessor  {
  handle(ctx : ChannelHandlerContext, message : ClusterMsg.Message) : ClusterMsg.Message
}
class CollectOneTimeDataResponseProcessor  implements org.apache.hertzbeat.remoting.netty.NettyRemotingProcessor  {
  manageServer : ManageServer
  CollectOneTimeDataResponseProcessor(manageServer : ManageServer) : None
  handle(ctx : ChannelHandlerContext, message : ClusterMsg.Message) : ClusterMsg.Message
}
CollectOneTimeDataResponseProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler().collectSyncJobResponse(metricsDataList) 
CollectOneTimeDataResponseProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler() 
class CollectorOfflineProcessor  implements org.apache.hertzbeat.remoting.netty.NettyRemotingProcessor  {
  manageServer : ManageServer
  CollectorOfflineProcessor(manageServer : ManageServer) : None
  handle(ctx : ChannelHandlerContext, message : ClusterMsg.Message) : ClusterMsg.Message
}
CollectorOfflineProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler().collectorGoOffline(collector) 
CollectorOfflineProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler() 
class CollectorOnlineProcessor  implements org.apache.hertzbeat.remoting.netty.NettyRemotingProcessor  {
  manageServer : ManageServer
  CollectorOnlineProcessor(manageServer : ManageServer) : None
  handle(ctx : ChannelHandlerContext, message : ClusterMsg.Message) : ClusterMsg.Message
}
CollectorOnlineProcessor::handle --> io.netty.channel.ChannelHandlerContext::channel : ctx.channel().remoteAddress() 
CollectorOnlineProcessor::handle --> io.netty.channel.ChannelHandlerContext::channel : ctx.channel() 
CollectorOnlineProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::addChannel : manageServer.addChannel(collector,ctx.channel()) 
CollectorOnlineProcessor::handle --> io.netty.channel.ChannelHandlerContext::channel : ctx.channel() 
CollectorOnlineProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler().collectorGoOnline(collector,collectorInfo) 
CollectorOnlineProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler() 
class HeartbeatProcessor  implements org.apache.hertzbeat.remoting.netty.NettyRemotingProcessor  {
  manageServer : ManageServer
  HeartbeatProcessor(manageServer : ManageServer) : None
  handle(ctx : ChannelHandlerContext, message : ClusterMsg.Message) : ClusterMsg.Message
}
HeartbeatProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::isChannelActive : manageServer.isChannelActive(identity) 
HeartbeatProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::addChannel : manageServer.addChannel(identity,ctx.channel()) 
HeartbeatProcessor::handle --> io.netty.channel.ChannelHandlerContext::channel : ctx.channel() 
HeartbeatProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::isChannelActive : manageServer.isChannelActive(identity) 
HeartbeatProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler().collectorGoOnline(identity,null) 
HeartbeatProcessor::handle --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler() 
}
class ManageServer  implements org.springframework.boot.CommandLineRunner  {
  collectorJobScheduler : CollectorJobScheduler
  channelSchedule : ScheduledExecutorService
  remotingServer : RemotingServer
  clientChannelTable : Map<String,Channel>
  ManageServer(schedulerProperties : SchedulerProperties, collectorJobScheduler : CollectorJobScheduler, threadPool : CommonThreadPool) : None
  init(schedulerProperties : SchedulerProperties, threadPool : CommonThreadPool) : void
  start() : void
  shutdown() : void
  getCollectorAndJobScheduler() : CollectorJobScheduler
  getChannel(identity : String) : Channel
  addChannel(identity : String, channel : Channel) : void
  closeChannel(identity : String) : void
  isChannelActive(identity : String) : boolean
  sendMsg(identityId : String, message : ClusterMsg.Message) : boolean
  sendMsgSync(identityId : String, message : ClusterMsg.Message) : ClusterMsg.Message
  run() : void
}
ManageServer::ManageServer --> org.apache.hertzbeat.manager.scheduler.CollectorJobScheduler::setManageServer : collectorJobScheduler.setManageServer(this) 
ManageServer::init --> org.apache.hertzbeat.remoting.RemotingServer::registerProcessor : remotingServer.registerProcessor(ClusterMsg.MessageType.HEARTBEAT,newHeartbeatProcessor(this)) 
ManageServer::init --> org.apache.hertzbeat.remoting.RemotingServer::registerProcessor : remotingServer.registerProcessor(ClusterMsg.MessageType.GO_ONLINE,newCollectorOnlineProcessor(this)) 
ManageServer::init --> org.apache.hertzbeat.remoting.RemotingServer::registerProcessor : remotingServer.registerProcessor(ClusterMsg.MessageType.GO_OFFLINE,newCollectorOfflineProcessor(this)) 
ManageServer::init --> org.apache.hertzbeat.remoting.RemotingServer::registerProcessor : remotingServer.registerProcessor(ClusterMsg.MessageType.RESPONSE_ONE_TIME_TASK_DATA,newCollectOneTimeDataResponseProcessor(this)) 
ManageServer::init --> org.apache.hertzbeat.remoting.RemotingServer::registerProcessor : remotingServer.registerProcessor(ClusterMsg.MessageType.RESPONSE_CYCLIC_TASK_DATA,newCollectCyclicDataResponseProcessor()) 
ManageServer::init --> org.apache.hertzbeat.remoting.RemotingServer::registerProcessor : remotingServer.registerProcessor(ClusterMsg.MessageType.RESPONSE_CYCLIC_TASK_SD_DATA,newCollectCyclicServiceDiscoveryDataResponseProcessor()) 
ManageServer::start --> org.apache.hertzbeat.remoting.RemotingServer::start : remotingServer.start() 
ManageServer::start --> java.util.concurrent.ScheduledExecutorService::scheduleAtFixedRate : channelSchedule.scheduleAtFixedRate(()->{try{clientChannelTable.forEach((collector,channel)->{if(!channel.isActive()){channel.closeFuture();clientChannelTable.remove(collector);collectorJobScheduler.collectorGoOffline(collector);}});}catch(Exceptione){log.error(e.getMessage(),e);}},10,3,TimeUnit.SECONDS) 
ManageServer::start --> org.apache.hertzbeat.manager.scheduler.CollectorJobScheduler::collectorGoOffline : collectorJobScheduler.collectorGoOffline(collector) 
ManageServer::shutdown --> org.apache.hertzbeat.remoting.RemotingServer::shutdown : remotingServer.shutdown() 
ManageServer::shutdown --> java.util.concurrent.ScheduledExecutorService::shutdownNow : channelSchedule.shutdownNow() 
ManageServer::closeChannel --> org.apache.hertzbeat.manager.scheduler.CollectorJobScheduler::collectorGoOffline : collectorJobScheduler.collectorGoOffline(identity) 
ManageServer::closeChannel --> org.apache.hertzbeat.remoting.RemotingServer::sendMsg : remotingServer.sendMsg(channel,message) 
ManageServer::sendMsg --> org.apache.hertzbeat.remoting.RemotingServer::sendMsg : remotingServer.sendMsg(channel,message) 
ManageServer::sendMsgSync --> org.apache.hertzbeat.remoting.RemotingServer::sendMsgSync : remotingServer.sendMsgSync(channel,message,3000) 
class ManageNettyEventListener    {
  onChannelIdle(channel : Channel) : void
}
}
class AssignJobs    {
  jobs : Set<Long>
  addingJobs : Set<Long>
  removingJobs : Set<Long>
  pinnedJobs : Set<Long>
  AssignJobs() : None
  addAssignJob(jobId : Long) : void
  addAddingJob(jobId : Long) : void
  addRemovingJob(jobId : Long) : void
  addPinnedJob(jobId : Long) : void
  addAssignJobs(jobSet : Set<Long>) : void
  addAddingJobs(jobSet : Set<Long>) : void
  addRemovingJobs(jobSet : Set<Long>) : void
  addPinnedJobs(jobSet : Set<Long>) : void
  removeAssignJobs(jobIds : Set<Long>) : void
  removeAddingJobs(jobIds : Set<Long>) : void
  clearRemovingJobs() : void
  containAndRemoveJob(jobId : Long) : boolean
  removeAddingJob(jobId : Long) : void
  removeRemovingJob(jobId : Long) : void
  removePinnedJob(jobId : Long) : void
  clear() : void
}
interface CollectJobScheduling    {
  collectSyncJobData(job : Job) : List<CollectRep.MetricsData>
  collectSyncJobData(job : Job, collector : String) : List<CollectRep.MetricsData>
  addAsyncCollectJob(job : Job, collector : String) : long
  updateAsyncCollectJob(modifyJob : Job) : long
  updateAsyncCollectJob(modifyJob : Job, collector : String) : long
  cancelAsyncCollectJob(jobId : Long) : void
  collectSyncJobResponse(metricsDataList : List<CollectRep.MetricsData>) : void
}
class CollectorJobScheduler    {
  jobContentCache : Map<Long,Job>
  eventListeners : Map<Long,CollectResponseEventListener>
  collectorDao : CollectorDao
  collectorMonitorBindDao : CollectorMonitorBindDao
  consistentHash : ConsistentHash
  collectJobService : CollectJobService
  appService : AppService
  monitorDao : MonitorDao
  paramDao : ParamDao
  manageServer : ManageServer
  collectorGoOnline(identity : String, collectorInfo : CollectorInfo) : void
  collectorGoOffline(identity : String) : void
  reBalanceCollectorAssignJobs() : void
  offlineCollector(identity : String) : boolean
  onlineCollector(identity : String) : boolean
  collectSyncJobData(job : Job) : List<CollectRep.MetricsData>
  response(responseMetrics : List<CollectRep.MetricsData>) : void
  collectSyncJobData(job : Job, collector : String) : List<CollectRep.MetricsData>
  response(responseMetrics : List<CollectRep.MetricsData>) : void
  addAsyncCollectJob(job : Job, collector : String) : long
  updateAsyncCollectJob(modifyJob : Job) : long
  updateAsyncCollectJob(modifyJob : Job, collector : String) : long
  cancelAsyncCollectJob(jobId : Long) : void
  collectSyncJobResponse(metricsDataList : List<CollectRep.MetricsData>) : void
  setManageServer(manageServer : ManageServer) : void
}
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(identity).orElse(null) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(identity) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.CollectorDao::save : collectorDao.save(collector) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findCollectorMonitorBindsByCollector : collectorMonitorBindDao.findCollectorMonitorBindsByCollector(identity) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(binds.stream().map(CollectorMonitorBind::getMonitorId).collect(Collectors.toSet())) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(monitor.getId()) 
CollectorJobScheduler::collectorGoOnline --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(monitor) 
CollectorJobScheduler::collectorGoOffline --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(identity).orElse(null) 
CollectorJobScheduler::collectorGoOffline --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(identity) 
CollectorJobScheduler::collectorGoOffline --> org.apache.hertzbeat.manager.dao.CollectorDao::save : collectorDao.save(collector) 
CollectorJobScheduler::reBalanceCollectorAssignJobs --> org.apache.hertzbeat.collector.dispatch.entrance.internal.CollectJobService::addAsyncCollectJob : collectJobService.addAsyncCollectJob(job) 
CollectorJobScheduler::reBalanceCollectorAssignJobs --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsg : manageServer.sendMsg(collectorName,message) 
CollectorJobScheduler::reBalanceCollectorAssignJobs --> org.apache.hertzbeat.collector.dispatch.entrance.internal.CollectJobService::cancelAsyncCollectJob : collectJobService.cancelAsyncCollectJob(jobId) 
CollectorJobScheduler::reBalanceCollectorAssignJobs --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsg : manageServer.sendMsg(collectorName,message) 
CollectorJobScheduler::offlineCollector --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsgSync : manageServer.sendMsgSync(identity,message) 
CollectorJobScheduler::onlineCollector --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(identity).orElse(null) 
CollectorJobScheduler::onlineCollector --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(identity) 
CollectorJobScheduler::onlineCollector --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsgSync : manageServer.sendMsgSync(identity,message) 
CollectorJobScheduler::collectSyncJobData --> org.apache.hertzbeat.collector.dispatch.entrance.internal.CollectJobService::collectSyncJobData : collectJobService.collectSyncJobData(job) 
CollectorJobScheduler::collectSyncJobData --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsg : manageServer.sendMsg(node.getIdentity(),message) 
CollectorJobScheduler::collectSyncJobData --> org.apache.hertzbeat.collector.dispatch.entrance.internal.CollectJobService::collectSyncJobData : collectJobService.collectSyncJobData(job) 
CollectorJobScheduler::collectSyncJobData --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsg : manageServer.sendMsg(node.getIdentity(),message) 
CollectorJobScheduler::addAsyncCollectJob --> org.apache.hertzbeat.collector.dispatch.entrance.internal.CollectJobService::addAsyncCollectJob : collectJobService.addAsyncCollectJob(job) 
CollectorJobScheduler::addAsyncCollectJob --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsg : manageServer.sendMsg(node.getIdentity(),message) 
CollectorJobScheduler::cancelAsyncCollectJob --> org.apache.hertzbeat.collector.dispatch.entrance.internal.CollectJobService::cancelAsyncCollectJob : collectJobService.cancelAsyncCollectJob(jobId) 
CollectorJobScheduler::cancelAsyncCollectJob --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::sendMsg : manageServer.sendMsg(node.getIdentity(),deleteMessage) 
interface CollectorScheduling    {
  collectorGoOnline(identity : String, collectorInfo : CollectorInfo) : void
  collectorGoOffline(identity : String) : void
  reBalanceCollectorAssignJobs() : void
  offlineCollector(identity : String) : boolean
  onlineCollector(identity : String) : boolean
}
class ConcurrentTreeMap    {
  readWriteLock : ReentrantReadWriteLock
  ConcurrentTreeMap() : None
  put(key : K, value : V) : V
  remove(key : Object) : V
  firstEntry() : Map.Entry<K,V>
  higherEntry(key : K) : Map.Entry<K,V>
  higherOrFirstEntry(key : K) : Map.Entry<K,V>
  ceilingEntry(key : K) : Map.Entry<K,V>
  ceilingOrFirstEntry(key : K) : Map.Entry<K,V>
}
ConcurrentTreeMap::put --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock().lock() 
ConcurrentTreeMap::put --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock() 
ConcurrentTreeMap::put --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock().unlock() 
ConcurrentTreeMap::put --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock() 
ConcurrentTreeMap::remove --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock().lock() 
ConcurrentTreeMap::remove --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock() 
ConcurrentTreeMap::remove --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock().unlock() 
ConcurrentTreeMap::remove --> java.util.concurrent.locks.ReentrantReadWriteLock::writeLock : readWriteLock.writeLock() 
ConcurrentTreeMap::firstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().lock() 
ConcurrentTreeMap::firstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::firstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().unlock() 
ConcurrentTreeMap::firstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::higherEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().lock() 
ConcurrentTreeMap::higherEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::higherEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().unlock() 
ConcurrentTreeMap::higherEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::higherOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().lock() 
ConcurrentTreeMap::higherOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::higherOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().unlock() 
ConcurrentTreeMap::higherOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::ceilingEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().lock() 
ConcurrentTreeMap::ceilingEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::ceilingEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().unlock() 
ConcurrentTreeMap::ceilingEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::ceilingOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().lock() 
ConcurrentTreeMap::ceilingOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
ConcurrentTreeMap::ceilingOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock().unlock() 
ConcurrentTreeMap::ceilingOrFirstEntry --> java.util.concurrent.locks.ReentrantReadWriteLock::readLock : readWriteLock.readLock() 
class ConsistentHash    {
  hashCircle : ConcurrentTreeMap<Integer,Node>
  existNodeMap : Map<String,Node>
  dispatchJobCache : List<DispatchJob>
  VIRTUAL_NODE_DEFAULT_SIZE : byte
  ConsistentHash() : None
  addVirtualNode(newNode : Node, identity : String) : void
  addNode(newNode : Node) : void
  removeVirtualNode(deletedNode : Node, virtualNodeHash : Integer) : void
  removeNode(name : String) : Node
  dispatchJobInCache() : void
  getAllNodes() : Map<String,Node>
  getNode(collectorName : String) : Node
  getDispatchJobCache() : List<DispatchJob>
  dispatchJob(dispatchKey : String, jobId : Long) : Node
  preDispatchJob(dispatchKey : String) : Node
  dispatchJob(dispatchHash : Integer, jobId : Long, isFlushed : boolean) : Node
  preDispatchJob(dispatchHash : Integer) : Node
  hash(key : long) : int
  hash(key : String) : int
}
class DispatchJob    {
  dispatchHash : Integer
  jobId : Long
}
class Node    {
  identity : String
  mode : String
  ip : String
  uptime : long
  quality : Byte
  assignJobs : AssignJobs
  virtualNodeMap : Map<Integer,Set<Long[]>>
  Node(identity : String, mode : String, ip : String, uptime : long, quality : Byte) : None
  addJob(virtualNodeKey : Integer, dispatchHash : Integer, jobId : Long, isFlushed : boolean) : void
  clearVirtualNodeJobs(virtualNodeKey : Integer) : Set<Long[]>
  addVirtualNodeJobs(virtualHashKey : Integer, reDispatchJobs : Set<Long[]>) : void
  removeVirtualNodeJob(jobId : Long) : void
  getAssignJobs() : AssignJobs
  destroy() : void
}
class ManagerWorkerPool    {
  workerExecutor : ThreadPoolExecutor
  ManagerWorkerPool() : None
  initWorkExecutor() : void
  executeJob(runnable : Runnable) : void
}
ManagerWorkerPool::executeJob --> java.util.concurrent.ThreadPoolExecutor::execute : workerExecutor.execute(runnable) 
class SchedulerInit  implements org.springframework.boot.CommandLineRunner  {
  collectorScheduling : CollectorScheduling
  collectJobScheduling : CollectJobScheduling
  MAIN_COLLECTOR_NODE_IP : String
  DEFAULT_COLLECTOR_VERSION : String
  appService : AppService
  monitorDao : MonitorDao
  paramDao : ParamDao
  collectorDao : CollectorDao
  collectorMonitorBindDao : CollectorMonitorBindDao
  monitorBindDao : MonitorBindDao
  run() : void
}
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.CollectorDao::findAll : collectorDao.findAll().stream().peek(item->item.setStatus(CommonConstants.COLLECTOR_STATUS_OFFLINE)).collect(Collectors.toList()) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.CollectorDao::findAll : collectorDao.findAll().stream().peek(item->item.setStatus(CommonConstants.COLLECTOR_STATUS_OFFLINE)) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.CollectorDao::findAll : collectorDao.findAll().stream() 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.CollectorDao::findAll : collectorDao.findAll() 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.CollectorDao::saveAll : collectorDao.saveAll(collectors) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByStatusNotInAndJobIdNotNull : monitorDao.findMonitorsByStatusNotInAndJobIdNotNull(List.of(CommonConstants.MONITOR_PAUSED_CODE)) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findAll : collectorMonitorBindDao.findAll() 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByType : monitorBindDao.findAllByType(CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR).stream().map(MonitorBind::getBizId).collect(Collectors.toSet()) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByType : monitorBindDao.findAllByType(CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR).stream().map(MonitorBind::getBizId) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByType : monitorBindDao.findAllByType(CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR).stream() 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByType : monitorBindDao.findAllByType(CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR) 
SchedulerInit::run --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(monitor.getId()) 
SchedulerInit::run --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(monitor) 
class SchedulerProperties    {
  server : ServerProperties
}
class ServerProperties    {
  enabled : boolean
  port : int
  idleStateEventTriggerTime : int
}
}
package service {
package ai {
package factory {
class AiServiceFactoryImpl    {
  aiService : List<AiService>
  aiServiceFactoryMap : Map<AiTypeEnum,AiService>
  init() : void
  getAiServiceImplBean(type : String) : AiService
}
}
interface AiService    {
  getType() : AiTypeEnum
  requestAi(text : String) : Flux<ServerSentEvent<String>>
}
class AlibabaAiServiceImpl    {
  aiProperties : AiProperties
  webClient : WebClient
  init() : void
  getType() : AiTypeEnum
  requestAi(text : String) : Flux<ServerSentEvent<String>>
  checkParam(param : String, apiKey : String, model : String) : void
}
AlibabaAiServiceImpl::init --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
AlibabaAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
AlibabaAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
AlibabaAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
AlibabaAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(aliAiRequestParamDTO)).retrieve().bodyToFlux(AliAiResponse.class).map(aliAiResponse->{if(Objects.nonNull(aliAiResponse)){List<AliAiResponse.Choice>choices=aliAiResponse.getOutput().getChoices();if(CollectionUtils.isEmpty(choices)){returnServerSentEvent.<String>builder().build();}Stringcontent=choices.get(0).getMessage().getContent();returnServerSentEvent.<String>builder().data(content).build();}returnServerSentEvent.<String>builder().build();}).doOnError(error->log.info("AlibabaAiServiceImpl.requestAi exception:{}",error.getMessage())) 
AlibabaAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(aliAiRequestParamDTO)).retrieve().bodyToFlux(AliAiResponse.class).map(aliAiResponse->{if(Objects.nonNull(aliAiResponse)){List<AliAiResponse.Choice>choices=aliAiResponse.getOutput().getChoices();if(CollectionUtils.isEmpty(choices)){returnServerSentEvent.<String>builder().build();}Stringcontent=choices.get(0).getMessage().getContent();returnServerSentEvent.<String>builder().data(content).build();}returnServerSentEvent.<String>builder().build();}) 
AlibabaAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(aliAiRequestParamDTO)).retrieve().bodyToFlux(AliAiResponse.class) 
AlibabaAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(aliAiRequestParamDTO)).retrieve() 
AlibabaAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(aliAiRequestParamDTO)) 
AlibabaAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post() 
class KimiAiServiceImpl    {
  aiProperties : AiProperties
  webClient : WebClient
  init() : void
  getType() : AiTypeEnum
  requestAi(text : String) : Flux<ServerSentEvent<String>>
  checkParam(param : String, model : String, apiKey : String) : void
}
KimiAiServiceImpl::init --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
KimiAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
KimiAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
KimiAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)).map(OpenAiResponse::convertToResponse).doOnError(error->log.info("KimiAiServiceImpl.requestAi exception:{}",error.getMessage())) 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)).map(OpenAiResponse::convertToResponse) 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)) 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class) 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve() 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)) 
KimiAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post() 
class SparkDeskAiServiceImpl    {
  aiProperties : AiProperties
  webClient : WebClient
  init() : void
  getType() : AiTypeEnum
  requestAi(text : String) : Flux<ServerSentEvent<String>>
  checkParam(param : String, apiKey : String, model : String) : void
}
SparkDeskAiServiceImpl::init --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
SparkDeskAiServiceImpl::init --> org.apache.hertzbeat.manager.config.AiProperties::getApiSecret : aiProperties.getApiSecret() 
SparkDeskAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
SparkDeskAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
SparkDeskAiServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)).map(OpenAiResponse::convertToResponse).doOnError(error->log.info("SparkDeskAiServiceImpl.requestAi exception:{}",error.getMessage())) 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)).map(OpenAiResponse::convertToResponse) 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)) 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class) 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve() 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)) 
SparkDeskAiServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post() 
class ZhiPuServiceImpl    {
  aiProperties : AiProperties
  webClient : WebClient
  init() : void
  getType() : AiTypeEnum
  requestAi(text : String) : Flux<ServerSentEvent<String>>
  checkParam(param : String, model : String, apiKey : String) : void
}
ZhiPuServiceImpl::init --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
ZhiPuServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
ZhiPuServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getApiKey : aiProperties.getApiKey() 
ZhiPuServiceImpl::requestAi --> org.apache.hertzbeat.manager.config.AiProperties::getModel : aiProperties.getModel() 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)).map(OpenAiResponse::convertToResponse).doOnError(error->log.info("ZhiPuServiceImpl.requestAi exception:{}",error.getMessage())) 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)).map(OpenAiResponse::convertToResponse) 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class).filter(aiResponse->!"[DONE]".equals(aiResponse)) 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve().bodyToFlux(String.class) 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)).retrieve() 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post().body(BodyInserters.fromValue(zhiPuRequestParamDTO)) 
ZhiPuServiceImpl::requestAi --> org.springframework.web.reactive.function.client.WebClient::post : webClient.post() 
}
package impl {
class AbstractGeneralConfigServiceImpl    {
  generalConfigDao : GeneralConfigDao
  objectMapper : ObjectMapper
  AbstractGeneralConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  saveConfig(config : T) : void
  getConfig() : T
  getTypeReference() : TypeReference<T>
}
AbstractGeneralConfigServiceImpl::saveConfig --> com.fasterxml.jackson.databind.ObjectMapper::writeValueAsString : objectMapper.writeValueAsString(config) 
AbstractGeneralConfigServiceImpl::saveConfig --> org.apache.hertzbeat.base.dao.GeneralConfigDao::save : generalConfigDao.save(generalConfig2Save) 
AbstractGeneralConfigServiceImpl::getConfig --> org.apache.hertzbeat.base.dao.GeneralConfigDao::findByType : generalConfigDao.findByType(type()) 
AbstractGeneralConfigServiceImpl::getConfig --> com.fasterxml.jackson.databind.ObjectMapper::readValue : objectMapper.readValue(generalConfig.getContent(),getTypeReference()) 
class AbstractImExportServiceImpl  implements org.apache.hertzbeat.manager.service.ImExportService  {
  monitorService : MonitorService
  tagService : TagService
  managerSseManager : ManagerSseManager
  importConfig(taskName : String, is : InputStream) : void
  exportConfig(os : OutputStream, configList : List<Long>) : void
  parseImport(is : InputStream) : List<ExportMonitorDTO>
  writeOs(monitorList : List<ExportMonitorDTO>, os : OutputStream) : void
  convert(dto : MonitorDto) : ExportMonitorDTO
  convert(exportMonitor : ExportMonitorDTO) : MonitorDto
  fileNamePrefix() : String
}
AbstractImExportServiceImpl::importConfig --> org.apache.hertzbeat.manager.service.MonitorService::validate : monitorService.validate(monitorDto,false) 
AbstractImExportServiceImpl::importConfig --> org.apache.hertzbeat.manager.service.MonitorService::addMonitor : monitorService.addMonitor(monitorDto.getMonitor(),monitorDto.getParams(),monitorDto.getCollector(),monitorDto.getGrafanaDashboard()) 
AbstractImExportServiceImpl::importConfig --> org.apache.hertzbeat.manager.config.ManagerSseManager::broadcastImportTaskInProgress : managerSseManager.broadcastImportTaskInProgress(taskName,(int)((i+1)*100.0/totalElements)) 
AbstractImExportServiceImpl::importConfig --> org.apache.hertzbeat.manager.config.ManagerSseManager::broadcastImportTaskSuccess : managerSseManager.broadcastImportTaskSuccess(taskName) 
AbstractImExportServiceImpl::exportConfig --> org.apache.hertzbeat.manager.service.MonitorService::getMonitorDto : monitorService.getMonitorDto(it) 
class ExportMonitorDTO    {
  monitor : MonitorDTO
  params : List<ParamDTO>
}
class MonitorDTO    {
  name : String
  app : String
  host : String
  intervals : Integer
  status : Byte
  description : String
  labels : Map<String,String>
  collector : String
}
class ParamDTO    {
  field : String
  type : Byte
  value : String
}
class AccountServiceImpl  implements org.apache.hertzbeat.manager.service.AccountService  {
  PERIOD_TIME : long
  accountProvider : SurenessAccountProvider
  authGetToken(loginDto : LoginDto) : Map<String,String>
  refreshToken(refreshToken : String) : RefreshTokenResponse
  generateToken() : String
  issueToken(userId : String, roles : List<String>, expirationMillis : Long) : String
}
AccountServiceImpl::authGetToken --> com.usthe.sureness.provider.SurenessAccountProvider::loadAccount : accountProvider.loadAccount(loginDto.getIdentifier()) 
AccountServiceImpl::refreshToken --> com.usthe.sureness.provider.SurenessAccountProvider::loadAccount : accountProvider.loadAccount(userId) 
AccountServiceImpl::generateToken --> com.usthe.sureness.provider.SurenessAccountProvider::loadAccount : accountProvider.loadAccount(userId) 
class AppServiceImpl    {
  PUSH_PROTOCOL_METRICS_NAME : String
  monitorDao : MonitorDao
  objectStoreConfigService : ObjectStoreConfigServiceImpl
  paramDao : ParamDao
  defineDao : DefineDao
  warehouseService : WarehouseService
  appDefines : Map<String,Job>
  appDefineStore : AppDefineStore
  jarAppDefineStore : AppDefineStore
  getAppParamDefines(app : String) : List<ParamDefine>
  getPushDefine(monitorId : Long) : Job
  getAutoGenerateDynamicDefine(monitorId : Long) : Job
  getAppDefine(app : String) : Job
  getAppDefineOption(app : String) : Optional<Job>
  getAppDefineMetricNames(app : String) : List<String>
  getI18nResources(lang : String) : Map<String,String>
  getI18nApps(lang : String) : Map<String,String>
  getAllAppHierarchy(lang : String) : List<Hierarchy>
  getAppHierarchy(app : String, lang : String) : List<Hierarchy>
  queryAppHierarchy(lang : String, hierarchies : LinkedList<Hierarchy>, job : Job) : void
  combineHierarchyMetrics(hierarchyMetricList : List<Hierarchy>, hierarchyMetric : Hierarchy) : void
  getAllAppDefines() : Map<String,Job>
  getMonitorDefineFileContent(app : String) : String
  applyMonitorDefineYml(ymlContent : String, isModify : boolean) : void
  verifyDefineAppContent(app : Job, isModify : boolean) : void
  deleteMonitorDefine(app : String) : void
  updateCustomTemplateConfig(config : TemplateConfig) : void
  afterPropertiesSet() : void
  onObjectStoreConfigChange(event : ObjectStoreConfigChangeEvent) : void
  refreshStore(objectStoreConfig : ObjectStoreDTO<?>) : void
}
AppServiceImpl::getPushDefine --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(monitorId) 
AppServiceImpl::getAutoGenerateDynamicDefine --> org.apache.hertzbeat.warehouse.service.WarehouseService::queryMonitorMetricsData : warehouseService.queryMonitorMetricsData(monitorId) 
AppServiceImpl::queryAppHierarchy --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(job.getApp()) 
AppServiceImpl::queryAppHierarchy --> org.apache.hertzbeat.warehouse.service.WarehouseService::queryMonitorMetricsData : warehouseService.queryMonitorMetricsData(monitor.getId()) 
AppServiceImpl::deleteMonitorDefine --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(app) 
interface AppDefineStore    {
  loadAppDefines() : boolean
  loadAppDefine(app : String) : String
  save(app : String, ymlContent : String) : void
  delete(app : String) : void
}
class JarAppDefineStoreImpl    {
  loadAppDefines() : boolean
  loadAppDefine(app : String) : String
  save(app : String, ymlContent : String) : void
  delete(app : String) : void
}
class LocalFileAppDefineStoreImpl    {
  loadAppDefines() : boolean
  loadAppDefine(app : String) : String
  save(app : String, ymlContent : String) : void
  delete(app : String) : void
}
class ObjectStoreAppDefineStoreImpl    {
  loadAppDefines() : boolean
  loadAppDefine(app : String) : String
  save(app : String, ymlContent : String) : void
  delete(app : String) : void
  getObjectStoreService() : ObjectStoreService
  getDefineAppPath(app : String) : String
}
class DatabaseAppDefineStoreImpl    {
  loadAppDefines() : boolean
  loadAppDefine(app : String) : String
  save(app : String, ymlContent : String) : void
  delete(app : String) : void
}
class BulletinServiceImpl  implements org.apache.hertzbeat.manager.service.BulletinService  {
  NO_DATA : String
  EMPTY_STRING : String
  bulletinDao : BulletinDao
  monitorService : MonitorService
  realTimeDataReader : RealTimeDataReader
  validate(bulletin : Bulletin) : void
  editBulletin(bulletin : Bulletin) : void
  addBulletin(bulletin : Bulletin) : void
  buildBulletinMetricsData(id : Long) : BulletinMetricsData
  getBulletins(search : String, pageIndex : Integer, pageSize : Integer) : Page<Bulletin>
  deleteBulletins(ids : List<Long>) : void
  getBulletinById(id : Long) : Optional<Bulletin>
}
BulletinServiceImpl::validate --> org.apache.hertzbeat.manager.dao.BulletinDao::countByName : bulletinDao.countByName(bulletin.getName()) 
BulletinServiceImpl::editBulletin --> org.apache.hertzbeat.manager.dao.BulletinDao::findById : bulletinDao.findById(bulletin.getId()) 
BulletinServiceImpl::editBulletin --> org.apache.hertzbeat.manager.dao.BulletinDao::save : bulletinDao.save(bulletin) 
BulletinServiceImpl::addBulletin --> org.apache.hertzbeat.manager.dao.BulletinDao::save : bulletinDao.save(bulletin) 
BulletinServiceImpl::buildBulletinMetricsData --> org.apache.hertzbeat.manager.dao.BulletinDao::findById : bulletinDao.findById(id) 
BulletinServiceImpl::buildBulletinMetricsData --> org.apache.hertzbeat.manager.service.MonitorService::getMonitor : monitorService.getMonitor(monitorId) 
BulletinServiceImpl::buildBulletinMetricsData --> org.apache.hertzbeat.warehouse.store.realtime.RealTimeDataReader::getCurrentMetricsData : realTimeDataReader.getCurrentMetricsData(monitorId,metric) 
BulletinServiceImpl::getBulletins --> org.apache.hertzbeat.manager.dao.BulletinDao::findAll : bulletinDao.findAll(specification,pageRequest) 
BulletinServiceImpl::deleteBulletins --> org.apache.hertzbeat.manager.dao.BulletinDao::deleteAllById : bulletinDao.deleteAllById(ids) 
BulletinServiceImpl::getBulletinById --> org.apache.hertzbeat.manager.dao.BulletinDao::findById : bulletinDao.findById(id) 
class CollectorServiceImpl  implements org.apache.hertzbeat.manager.service.CollectorService  {
  collectorDao : CollectorDao
  collectorMonitorBindDao : CollectorMonitorBindDao
  consistentHash : ConsistentHash
  manageServer : ManageServer
  getCollectors(name : String, pageIndex : int, pageSize : Integer) : Page<CollectorSummary>
  deleteRegisteredCollector(collectors : List<String>) : void
  hasCollector(collector : String) : boolean
  generateCollectorDeployInfo(collector : String) : Map<String,String>
  makeCollectorsOffline(collectors : List<String>) : void
  makeCollectorsOnline(collectors : List<String>) : void
}
CollectorServiceImpl::getCollectors --> org.apache.hertzbeat.manager.dao.CollectorDao::findAll : collectorDao.findAll(specification,pageRequest) 
CollectorServiceImpl::getCollectors --> org.apache.hertzbeat.manager.scheduler.ConsistentHash::getNode : consistentHash.getNode(collector.getName()) 
CollectorServiceImpl::deleteRegisteredCollector --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findCollectorMonitorBindsByCollector : collectorMonitorBindDao.findCollectorMonitorBindsByCollector(collector) 
CollectorServiceImpl::deleteRegisteredCollector --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::closeChannel : manageServer.closeChannel(collector) 
CollectorServiceImpl::deleteRegisteredCollector --> org.apache.hertzbeat.manager.dao.CollectorDao::deleteCollectorByName : collectorDao.deleteCollectorByName(collector) 
CollectorServiceImpl::hasCollector --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(collector).isPresent() 
CollectorServiceImpl::hasCollector --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(collector) 
CollectorServiceImpl::makeCollectorsOffline --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler().offlineCollector(collector) 
CollectorServiceImpl::makeCollectorsOffline --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler() 
CollectorServiceImpl::makeCollectorsOnline --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler().onlineCollector(collector) 
CollectorServiceImpl::makeCollectorsOnline --> org.apache.hertzbeat.manager.scheduler.netty.ManageServer::getCollectorAndJobScheduler : manageServer.getCollectorAndJobScheduler() 
class ConfigServiceImpl  implements org.apache.hertzbeat.manager.service.ConfigService  {
  TEMPLATE_CONFIG_TYPE : String
  configServiceMap : Map<String,GeneralConfigService>
  ConfigServiceImpl(generalConfigServices : List<GeneralConfigService>) : None
  saveConfig(type : String, config : Object) : void
  getConfig(type : String) : Object
  updateTemplateAppConfig(app : String, template : TemplateConfig.AppTemplate) : void
}
class DefaultPluginRunner  implements org.apache.hertzbeat.plugin.runner.PluginRunner  {
  pluginService : PluginService
  pluginExecute(clazz : Class<T>, execute : Consumer<T>) : void
  pluginExecute(clazz : Class<T>, execute : BiConsumer<T,PluginContext>) : void
}
DefaultPluginRunner::pluginExecute --> org.apache.hertzbeat.manager.service.PluginService::pluginExecute : pluginService.pluginExecute(clazz,execute) 
DefaultPluginRunner::pluginExecute --> org.apache.hertzbeat.manager.service.PluginService::pluginExecute : pluginService.pluginExecute(clazz,execute) 
class ExcelImExportServiceImpl    {
  type() : String
  getFileName() : String
  parseImport(is : InputStream) : List<ExportMonitorDTO>
  extractMonitorDataFromRow(row : Row) : MonitorDTO
  extractParamDataFromRow(row : Row) : ParamDTO
  getCellValueAsString(cell : Cell) : String
  getCellValueAsBoolean(cell : Cell) : boolean
  getCellValueAsInteger(cell : Cell) : Integer
  getCellValueAsByte(cell : Cell) : Byte
  writeOs(monitorList : List<ExportMonitorDTO>, os : OutputStream) : void
}
ExcelImExportServiceImpl::writeOs --> java.io.OutputStream::close : os.close() 
class JsonImExportServiceImpl    {
  objectMapper : ObjectMapper
  parseImport(is : InputStream) : List<ExportMonitorDTO>
  writeOs(monitorList : List<ExportMonitorDTO>, os : OutputStream) : void
  type() : String
  getFileName() : String
}
JsonImExportServiceImpl::parseImport --> com.fasterxml.jackson.databind.ObjectMapper::readValue : objectMapper.readValue(is,newTypeReference<>(){}) 
JsonImExportServiceImpl::writeOs --> com.fasterxml.jackson.databind.ObjectMapper::writeValue : objectMapper.writeValue(os,monitorList) 
class MailGeneralConfigServiceImpl    {
  MailGeneralConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  type() : String
  getTypeReference() : TypeReference<MailServerConfig>
  getType() : Type
}
class MonitorServiceImpl  implements org.apache.hertzbeat.manager.service.MonitorService  {
  PATTERN_HTTP : String
  PATTERN_HTTPS : String
  MONITOR_ID_TMP : Long
  ALL_MONITOR_STATUS : byte
  TAG_LENGTH : int
  CONTENT_VALUE : String
  imExportServiceMap : Map<String,ImExportService>
  appService : AppService
  tagService : TagService
  collectJobScheduling : CollectJobScheduling
  monitorDao : MonitorDao
  paramDao : ParamDao
  monitorBindDao : MonitorBindDao
  collectorDao : CollectorDao
  collectorMonitorBindDao : CollectorMonitorBindDao
  alertDefineBindDao : AlertDefineBindDao
  applicationContext : ApplicationContext
  warehouseService : WarehouseService
  dashboardService : DashboardService
  managerSseManager : ManagerSseManager
  MonitorServiceImpl(imExportServiceList : List<ImExportService>) : None
  detectMonitor(monitor : Monitor, params : List<Param>, collector : String) : void
  addMonitor(monitor : Monitor, params : List<Param>, collector : String, grafanaDashboard : GrafanaDashboard) : void
  export(ids : List<Long>, type : String, res : HttpServletResponse) : void
  importConfig(file : MultipartFile) : void
  validate(monitorDto : MonitorDto, isModify : Boolean) : void
  modifyMonitor(monitor : Monitor, params : List<Param>, collector : String, grafanaDashboard : GrafanaDashboard) : void
  deleteMonitor(id : long) : void
  deleteMonitors(ids : Set<Long>) : void
  getMonitorDto(id : long) : MonitorDto
  getMonitors(monitorIds : List<Long>, app : String, search : String, status : Byte, sort : String, order : String, pageIndex : int, pageSize : int, labels : String) : Page<Monitor>
  cancelManageMonitors(ids : HashSet<Long>) : void
  enableManageMonitors(ids : HashSet<Long>) : void
  getAllAppMonitorsCount() : List<AppCount>
  copyMonitors(ids : List<Long>) : void
  updateAppCollectJob(job : Job) : void
  addAndSaveMonitorJob(monitor : Monitor, params : List<Param>, collector : String, sdMonitorParam : SdMonitorParam, grafanaDashboard : GrafanaDashboard) : void
  getMonitor(monitorId : Long) : Monitor
  updateMonitorStatus(monitorId : Long, status : byte) : void
  getAppMonitors(app : String) : List<Monitor>
  resetMetricsCommonField(monitor : Monitor, appDefine : Job, sdMonitorParam : SdMonitorParam) : void
  copyMonitor(monitor : Monitor, params : List<Param>) : void
  collectOneTimeSdData(monitor : Monitor, collector : String, sdParam : Param) : void
  detectMonitorDirectly(monitor : Monitor, params : List<Param>, collector : String) : void
  copyMonitor(id : Long) : void
}
MonitorServiceImpl::importConfig --> org.apache.hertzbeat.manager.config.ManagerSseManager::broadcastImportTaskFail : managerSseManager.broadcastImportTaskFail(fileName,e.getMessage()) 
MonitorServiceImpl::validate --> org.apache.hertzbeat.manager.service.AppService::getAppDefineOption : appService.getAppDefineOption(monitor.getName()) 
MonitorServiceImpl::validate --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorByNameEquals : monitorDao.findMonitorByNameEquals(monitor.getName()) 
MonitorServiceImpl::validate --> org.apache.hertzbeat.manager.dao.CollectorDao::findCollectorByName : collectorDao.findCollectorByName(monitorDto.getCollector()) 
MonitorServiceImpl::validate --> org.apache.hertzbeat.manager.service.AppService::getAppParamDefines : appService.getAppParamDefines(monitorDto.getMonitor().getApp()) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::findById : monitorDao.findById(monitorId) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findMonitorBindByBizIdAndMonitorIdAndType : monitorBindDao.findMonitorBindByBizIdAndMonitorIdAndType(Long.valueOf(label.getValue()),monitorId,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findMonitorBindByBizIdAndType : monitorBindDao.findMonitorBindByBizIdAndType(monitorId,CommonConstants.MONITOR_BIND_TYPE_SD_MAIN_MONITOR) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.MonitorBindDao::save : monitorBindDao.save(Objects.requireNonNull(SdMonitorOperator.buildSdMainMonitorBind(SdMonitorParam.builder().sdParam(sdParam.get()).build(),monitorId))) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::updateAsyncCollectJob : collectJobScheduling.updateAsyncCollectJob(appDefine) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::updateAsyncCollectJob : collectJobScheduling.updateAsyncCollectJob(appDefine,collector) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::deleteCollectorMonitorBindsByMonitorId : collectorMonitorBindDao.deleteCollectorMonitorBindsByMonitorId(monitorId) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::save : collectorMonitorBindDao.save(collectorMonitorBind) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.grafana.service.DashboardService::createOrUpdateDashboard : dashboardService.createOrUpdateDashboard(grafanaDashboard.getTemplate(),monitorId) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.grafana.service.DashboardService::closeGrafanaDashboard : dashboardService.closeGrafanaDashboard(monitorId) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(monitor) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findMonitorBindByBizIdAndType : monitorBindDao.findMonitorBindByBizIdAndType(monitorId,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.dao.ParamDao::saveAll : paramDao.saveAll(params) 
MonitorServiceImpl::modifyMonitor --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::cancelAsyncCollectJob : collectJobScheduling.cancelAsyncCollectJob(monitor.getJobId()) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByBizIdInAndType : monitorBindDao.findAllByBizIdInAndType(ids,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::deleteAll : monitorDao.deleteAll(monitors) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.dao.ParamDao::deleteParamsByMonitorIdIn : paramDao.deleteParamsByMonitorIdIn(ids) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.alert.dao.AlertDefineBindDao::deleteAlertDefineMonitorBindsByMonitorIdIn : alertDefineBindDao.deleteAlertDefineMonitorBindsByMonitorIdIn(monitorIds) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::deleteByMonitorId : monitorBindDao.deleteByMonitorId(monitor.getId()) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::deleteCollectorMonitorBindsByMonitorId : collectorMonitorBindDao.deleteCollectorMonitorBindsByMonitorId(monitor.getId()) 
MonitorServiceImpl::deleteMonitors --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::cancelAsyncCollectJob : collectJobScheduling.cancelAsyncCollectJob(monitor.getJobId()) 
MonitorServiceImpl::deleteMonitors --> org.springframework.context.ApplicationContext::publishEvent : applicationContext.publishEvent(newMonitorDeletedEvent(applicationContext,monitor.getId())) 
MonitorServiceImpl::getMonitorDto --> org.apache.hertzbeat.manager.dao.MonitorDao::findById : monitorDao.findById(id) 
MonitorServiceImpl::getMonitorDto --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(id) 
MonitorServiceImpl::getMonitorDto --> org.apache.hertzbeat.warehouse.service.WarehouseService::queryMonitorMetricsData : warehouseService.queryMonitorMetricsData(id) 
MonitorServiceImpl::getMonitorDto --> org.apache.hertzbeat.grafana.service.DashboardService::getDashboardByMonitorId : dashboardService.getDashboardByMonitorId(id) 
MonitorServiceImpl::getMonitorDto --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
MonitorServiceImpl::getMonitorDto --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findCollectorMonitorBindByMonitorId : collectorMonitorBindDao.findCollectorMonitorBindByMonitorId(monitor.getId()) 
MonitorServiceImpl::getMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findAll : monitorDao.findAll(specification,pageRequest) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByBizIdInAndType : monitorBindDao.findAllByBizIdInAndType(ids,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR).stream().map(MonitorBind::getMonitorId).collect(Collectors.toSet()) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByBizIdInAndType : monitorBindDao.findAllByBizIdInAndType(ids,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR).stream().map(MonitorBind::getMonitorId) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByBizIdInAndType : monitorBindDao.findAllByBizIdInAndType(ids,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR).stream() 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findAllByBizIdInAndType : monitorBindDao.findAllByBizIdInAndType(ids,CommonConstants.MONITOR_BIND_TYPE_SD_SUB_MONITOR) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream().filter(monitor->monitor.getStatus()!=CommonConstants.MONITOR_PAUSED_CODE).peek(monitor->monitor.setStatus(CommonConstants.MONITOR_PAUSED_CODE)).collect(Collectors.toList()) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream().filter(monitor->monitor.getStatus()!=CommonConstants.MONITOR_PAUSED_CODE).peek(monitor->monitor.setStatus(CommonConstants.MONITOR_PAUSED_CODE)) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream().filter(monitor->monitor.getStatus()!=CommonConstants.MONITOR_PAUSED_CODE) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream() 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::cancelAsyncCollectJob : collectJobScheduling.cancelAsyncCollectJob(monitor.getJobId()) 
MonitorServiceImpl::cancelManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::saveAll : monitorDao.saveAll(managedMonitors) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream().filter(monitor->monitor.getStatus()==CommonConstants.MONITOR_PAUSED_CODE).peek(monitor->monitor.setStatus(CommonConstants.MONITOR_UP_CODE)).collect(Collectors.toList()) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream().filter(monitor->monitor.getStatus()==CommonConstants.MONITOR_PAUSED_CODE).peek(monitor->monitor.setStatus(CommonConstants.MONITOR_UP_CODE)) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream().filter(monitor->monitor.getStatus()==CommonConstants.MONITOR_PAUSED_CODE) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids).stream() 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByIdIn : monitorDao.findMonitorsByIdIn(ids) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(monitor.getId()) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::findMonitorBindByBizIdAndType : monitorBindDao.findMonitorBindByBizIdAndType(monitor.getId(),CommonConstants.MONITOR_BIND_TYPE_SD_MAIN_MONITOR) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorBindDao::save : monitorBindDao.save(Objects.requireNonNull(SdMonitorOperator.buildSdMainMonitorBind(SdMonitorParam.builder().sdParam(sdParam.get()).build(),monitor.getId()))) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findCollectorMonitorBindByMonitorId : collectorMonitorBindDao.findCollectorMonitorBindByMonitorId(monitor.getId()) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::addAsyncCollectJob : collectJobScheduling.addAsyncCollectJob(appDefine,collector) 
MonitorServiceImpl::enableManageMonitors --> org.springframework.context.ApplicationContext::publishEvent : applicationContext.publishEvent(newMonitorDeletedEvent(applicationContext,monitor.getId())) 
MonitorServiceImpl::enableManageMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::saveAll : monitorDao.saveAll(unManagedMonitors) 
MonitorServiceImpl::getAllAppMonitorsCount --> org.apache.hertzbeat.manager.dao.MonitorDao::findAppsStatusCount : monitorDao.findAppsStatusCount() 
MonitorServiceImpl::getAllAppMonitorsCount --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(item.getApp()) 
MonitorServiceImpl::copyMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findById : monitorDao.findById(id) 
MonitorServiceImpl::copyMonitors --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(id) 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(job.getApp()).stream().filter(monitor->monitor.getStatus()!=CommonConstants.MONITOR_PAUSED_CODE).toList() 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(job.getApp()).stream().filter(monitor->monitor.getStatus()!=CommonConstants.MONITOR_PAUSED_CODE) 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(job.getApp()).stream() 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(job.getApp()) 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findCollectorMonitorBindsByMonitorIdIn : collectorMonitorBindDao.findCollectorMonitorBindsByMonitorIdIn(monitors.stream().map(Monitor::getId).collect(Collectors.toSet())) 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(monitor.getId()) 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::updateAsyncCollectJob : collectJobScheduling.updateAsyncCollectJob(appDefine,collector) 
MonitorServiceImpl::updateAppCollectJob --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(monitor) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::addAsyncCollectJob : collectJobScheduling.addAsyncCollectJob(appDefine,null) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::addAsyncCollectJob : collectJobScheduling.addAsyncCollectJob(appDefine,collector) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::save : collectorMonitorBindDao.save(collectorMonitorBind) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.grafana.service.DashboardService::createOrUpdateDashboard : dashboardService.createOrUpdateDashboard(grafanaDashboard.getTemplate(),monitorId) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(monitor) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.dao.MonitorBindDao::save : monitorBindDao.save(monitorBind) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.dao.ParamDao::saveAll : paramDao.saveAll(params) 
MonitorServiceImpl::addAndSaveMonitorJob --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::cancelAsyncCollectJob : collectJobScheduling.cancelAsyncCollectJob(jobId) 
MonitorServiceImpl::getMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::findById : monitorDao.findById(monitorId).orElse(null) 
MonitorServiceImpl::getMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::findById : monitorDao.findById(monitorId) 
MonitorServiceImpl::updateMonitorStatus --> org.apache.hertzbeat.manager.dao.MonitorDao::updateMonitorStatus : monitorDao.updateMonitorStatus(monitorId,status) 
MonitorServiceImpl::getAppMonitors --> org.apache.hertzbeat.manager.dao.MonitorDao::findMonitorsByAppEquals : monitorDao.findMonitorsByAppEquals(app) 
MonitorServiceImpl::collectOneTimeSdData --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
MonitorServiceImpl::collectOneTimeSdData --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::collectSyncJobData : collectJobScheduling.collectSyncJobData(sdJob,collector) 
MonitorServiceImpl::collectOneTimeSdData --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::collectSyncJobData : collectJobScheduling.collectSyncJobData(sdJob) 
MonitorServiceImpl::detectMonitorDirectly --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(monitor.getApp()) 
MonitorServiceImpl::detectMonitorDirectly --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::collectSyncJobData : collectJobScheduling.collectSyncJobData(appDefine,collector) 
MonitorServiceImpl::detectMonitorDirectly --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::collectSyncJobData : collectJobScheduling.collectSyncJobData(appDefine) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::findById : monitorDao.findById(id) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.ParamDao::findParamsByMonitorId : paramDao.findParamsByMonitorId(id) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(newMonitor) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.ParamDao::saveAll : paramDao.saveAll(newParams) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.service.AppService::getAppDefine : appService.getAppDefine(newMonitor.getApp()) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::findCollectorMonitorBindByMonitorId : collectorMonitorBindDao.findCollectorMonitorBindByMonitorId(sourceMonitor.getId()) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.scheduler.CollectJobScheduling::addAsyncCollectJob : collectJobScheduling.addAsyncCollectJob(appDefine,collector) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.MonitorDao::save : monitorDao.save(newMonitor) 
MonitorServiceImpl::copyMonitor --> org.apache.hertzbeat.manager.dao.CollectorMonitorBindDao::save : collectorMonitorBindDao.save(newBind) 
class MuteGeneralConfigServiceImpl    {
  MuteGeneralConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  getTypeReference() : TypeReference<MuteConfig>
  getType() : Type
  type() : String
  handler(config : MuteConfig) : void
}
class ObjectStoreConfigServiceImpl  implements org.springframework.beans.factory.InitializingBean  {
  BEAN_NAME : String
  beanFactory : DefaultListableBeanFactory
  ctx : ApplicationContext
  ObjectStoreConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  type() : String
  getTypeReference() : TypeReference<ObjectStoreDTO<ObjectStoreDTO.ObsConfig>>
  getType() : Type
  handler(config : ObjectStoreDTO<ObjectStoreDTO.ObsConfig>) : void
  initObs(config : ObjectStoreDTO<ObjectStoreDTO.ObsConfig>) : void
  validateObsEndpoint(endpoint : String) : void
  afterPropertiesSet() : void
}
ObjectStoreConfigServiceImpl::handler --> org.springframework.context.ApplicationContext::publishEvent : ctx.publishEvent(newObjectStoreConfigChangeEvent(config)) 
ObjectStoreConfigServiceImpl::initObs --> org.springframework.beans.factory.support.DefaultListableBeanFactory::destroySingleton : beanFactory.destroySingleton(BEAN_NAME) 
ObjectStoreConfigServiceImpl::initObs --> org.springframework.beans.factory.support.DefaultListableBeanFactory::registerSingleton : beanFactory.registerSingleton(BEAN_NAME,newObsObjectStoreServiceImpl(obsClient,obsConfig.getBucketName(),obsConfig.getSavePath())) 
class ObsObjectStoreServiceImpl  implements org.apache.hertzbeat.manager.service.ObjectStoreService  {
  obsClient : ObsClient
  bucketName : String
  rootPath : String
  ObsObjectStoreServiceImpl(obsClient : ObsClient, bucketName : String, rootPath : String) : None
  upload(filePath : String, is : InputStream) : boolean
  remove(filePath : String) : void
  isExist(filePath : String) : boolean
  download(filePath : String) : FileDTO
  list(dir : String) : List<FileDTO>
  type() : ObjectStoreDTO.Type
  getObjectKey(filePath : String) : String
}
ObsObjectStoreServiceImpl::upload --> com.obs.services.ObsClient::putObject : obsClient.putObject(bucketName,objectKey,is) 
ObsObjectStoreServiceImpl::remove --> com.obs.services.ObsClient::deleteObject : obsClient.deleteObject(bucketName,objectKey) 
ObsObjectStoreServiceImpl::isExist --> com.obs.services.ObsClient::doesObjectExist : obsClient.doesObjectExist(bucketName,objectKey) 
ObsObjectStoreServiceImpl::download --> com.obs.services.ObsClient::getObject : obsClient.getObject(bucketName,objectKey) 
ObsObjectStoreServiceImpl::list --> com.obs.services.ObsClient::listObjects : obsClient.listObjects(request).getObjects().stream().map(it->newFileDTO(it.getObjectKey(),it.getObjectContent())).toList() 
ObsObjectStoreServiceImpl::list --> com.obs.services.ObsClient::listObjects : obsClient.listObjects(request).getObjects().stream().map(it->newFileDTO(it.getObjectKey(),it.getObjectContent())) 
ObsObjectStoreServiceImpl::list --> com.obs.services.ObsClient::listObjects : obsClient.listObjects(request).getObjects().stream() 
ObsObjectStoreServiceImpl::list --> com.obs.services.ObsClient::listObjects : obsClient.listObjects(request).getObjects() 
ObsObjectStoreServiceImpl::list --> com.obs.services.ObsClient::listObjects : obsClient.listObjects(request) 
class PluginServiceImpl  implements org.apache.hertzbeat.manager.service.PluginService  {
  metadataDao : PluginMetadataDao
  itemDao : PluginItemDao
  pluginParamDao : PluginParamDao
  PLUGIN_TYPE_MAPPING : Map<Class<?>,PluginType>
  PLUGIN_ENABLE_STATUS : Map<String,Boolean>
  PARAMS_CONFIG_MAP : Map<Long,PluginConfig>
  PARAMS_MAP : Map<Long,List<Configmap>>
  ITEM_TO_PLUGINMETADATAID_MAP : Map<String,Long>
  pluginClassLoaders : List<URLClassLoader>
  deletePlugins(ids : Set<Long>) : void
  getOtherLibDir(pluginJarPath : String) : String
  updateStatus(plugin : PluginMetadata) : void
  getParamDefine(pluginMetadataId : Long) : PluginParametersVO
  savePluginParam(params : List<PluginParam>) : void
  syncPluginParamMap(pluginMetadataId : Long, params : List<PluginParam>, isDelete : boolean) : void
  validateJarFile(jarFile : File) : PluginMetadata
  validateMetadata(metadata : PluginMetadata) : void
  savePlugin(pluginUpload : PluginUpload) : void
  validateFileName(fileName : String) : void
  pluginIsEnable(clazz : Class<?>) : boolean
  getPlugins(search : String, pageIndex : int, pageSize : int) : Page<PluginMetadata>
  syncPluginStatus() : void
  syncSinglePluginStatus(plugin : PluginMetadata) : void
  initParams() : void
  loadJarToClassLoader() : void
  loadLibInPlugin(pluginJarPath : String, pluginMetadataId : Long) : List<URL>
  readPluginConfig(jarFile : JarFile, entry : JarEntry) : PluginConfig
  pluginExecute(clazz : Class<T>, execute : Consumer<T>) : void
  pluginExecute(clazz : Class<T>, execute : BiConsumer<T,PluginContext>) : void
}
PluginServiceImpl::deletePlugins --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::findAllById : metadataDao.findAllById(ids) 
PluginServiceImpl::deletePlugins --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::deleteById : metadataDao.deleteById(plugin.getId()) 
PluginServiceImpl::deletePlugins --> org.apache.hertzbeat.manager.dao.PluginParamDao::deletePluginParamsByPluginMetadataIdIn : pluginParamDao.deletePluginParamsByPluginMetadataIdIn(ids) 
PluginServiceImpl::updateStatus --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::findById : metadataDao.findById(plugin.getId()) 
PluginServiceImpl::updateStatus --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::save : metadataDao.save(metadata) 
PluginServiceImpl::getParamDefine --> org.apache.hertzbeat.manager.dao.PluginParamDao::findParamsByPluginMetadataId : pluginParamDao.findParamsByPluginMetadataId(pluginMetadataId) 
PluginServiceImpl::savePluginParam --> org.apache.hertzbeat.manager.dao.PluginParamDao::deletePluginParamsByPluginMetadataId : pluginParamDao.deletePluginParamsByPluginMetadataId(params.get(0).getPluginMetadataId()) 
PluginServiceImpl::savePluginParam --> org.apache.hertzbeat.manager.dao.PluginParamDao::saveAll : pluginParamDao.saveAll(params) 
PluginServiceImpl::validateMetadata --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::countPluginMetadataByName : metadataDao.countPluginMetadataByName(metadata.getName()) 
PluginServiceImpl::savePlugin --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::save : metadataDao.save(pluginMetadata) 
PluginServiceImpl::savePlugin --> org.apache.hertzbeat.manager.dao.PluginItemDao::saveAll : itemDao.saveAll(pluginItems) 
PluginServiceImpl::getPlugins --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::findAll : metadataDao.findAll(specification,pageRequest) 
PluginServiceImpl::syncPluginStatus --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::findAll : metadataDao.findAll() 
PluginServiceImpl::initParams --> org.apache.hertzbeat.manager.dao.PluginParamDao::findAll : pluginParamDao.findAll() 
PluginServiceImpl::loadJarToClassLoader --> org.apache.hertzbeat.manager.dao.PluginMetadataDao::findPluginMetadataByEnableStatusTrue : metadataDao.findPluginMetadataByEnableStatusTrue() 
class SmsGeneralConfigServiceImpl    {
  applicationContext : ApplicationContext
  SmsGeneralConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  handler(smsConfig : SmsConfig) : void
  type() : String
  getTypeReference() : TypeReference<SmsConfig>
  getType() : Type
}
SmsGeneralConfigServiceImpl::handler --> org.springframework.context.ApplicationContext::publishEvent : applicationContext.publishEvent(newSmsConfigChangeEvent(applicationContext)) 
class StatusPageServiceImpl  implements org.apache.hertzbeat.manager.service.StatusPageService  {
  HISTORY_SPAN_DAYS : int
  statusPageOrgDao : StatusPageOrgDao
  statusPageComponentDao : StatusPageComponentDao
  statusPageHistoryDao : StatusPageHistoryDao
  statusPageIncidentDao : StatusPageIncidentDao
  calculateStatus : CalculateStatus
  statusPageIncidentComponentBindDao : StatusPageIncidentComponentBindDao
  queryStatusPageOrg() : StatusPageOrg
  saveStatusPageOrg(statusPageOrg : StatusPageOrg) : StatusPageOrg
  queryStatusPageComponents() : List<StatusPageComponent>
  newStatusPageComponent(statusPageComponent : StatusPageComponent) : void
  updateStatusPageComponent(statusPageComponent : StatusPageComponent) : void
  deleteStatusPageComponent(id : long) : void
  queryStatusPageComponent(id : long) : StatusPageComponent
  queryComponentsStatus() : List<ComponentStatus>
  combineOneDayStatusPageHistory(statusPageHistories : List<StatusPageHistory>, component : StatusPageComponent, nowTimestamp : long) : StatusPageHistory
  queryComponentStatus(id : long) : ComponentStatus
  queryStatusPageIncidents() : List<StatusPageIncident>
  queryStatusPageIncident(id : long) : StatusPageIncident
  newStatusPageIncident(statusPageIncident : StatusPageIncident) : void
  updateStatusPageIncident(statusPageIncident : StatusPageIncident) : void
  deleteStatusPageIncident(id : long) : void
}
StatusPageServiceImpl::queryStatusPageOrg --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::findAll : statusPageOrgDao.findAll().stream().findFirst().orElse(null) 
StatusPageServiceImpl::queryStatusPageOrg --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::findAll : statusPageOrgDao.findAll().stream().findFirst() 
StatusPageServiceImpl::queryStatusPageOrg --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::findAll : statusPageOrgDao.findAll().stream() 
StatusPageServiceImpl::queryStatusPageOrg --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::findAll : statusPageOrgDao.findAll() 
StatusPageServiceImpl::saveStatusPageOrg --> org.apache.hertzbeat.manager.dao.StatusPageOrgDao::save : statusPageOrgDao.save(statusPageOrg) 
StatusPageServiceImpl::queryStatusPageComponents --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findAll : statusPageComponentDao.findAll() 
StatusPageServiceImpl::newStatusPageComponent --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::save : statusPageComponentDao.save(statusPageComponent) 
StatusPageServiceImpl::updateStatusPageComponent --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::save : statusPageComponentDao.save(statusPageComponent) 
StatusPageServiceImpl::deleteStatusPageComponent --> org.apache.hertzbeat.manager.dao.StatusPageIncidentComponentBindDao::countByComponentId : statusPageIncidentComponentBindDao.countByComponentId(id) 
StatusPageServiceImpl::deleteStatusPageComponent --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::deleteById : statusPageComponentDao.deleteById(id) 
StatusPageServiceImpl::queryStatusPageComponent --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findById : statusPageComponentDao.findById(id).orElse(null) 
StatusPageServiceImpl::queryStatusPageComponent --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findById : statusPageComponentDao.findById(id) 
StatusPageServiceImpl::queryComponentsStatus --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findAll : statusPageComponentDao.findAll() 
StatusPageServiceImpl::queryComponentsStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::findStatusPageHistoriesByComponentIdAndTimestampBetween : statusPageHistoryDao.findStatusPageHistoriesByComponentIdAndTimestampBetween(component.getId(),todayStartTimestamp,nowTimestamp) 
StatusPageServiceImpl::queryComponentsStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::findStatusPageHistoriesByComponentIdAndTimestampBetween : statusPageHistoryDao.findStatusPageHistoriesByComponentIdAndTimestampBetween(component.getId(),preTimestamp,todayStartTimestamp) 
StatusPageServiceImpl::queryComponentsStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::deleteAll : statusPageHistoryDao.deleteAll(thisDayHistory) 
StatusPageServiceImpl::queryComponentsStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::save : statusPageHistoryDao.save(statusPageHistory) 
StatusPageServiceImpl::combineOneDayStatusPageHistory --> org.apache.hertzbeat.manager.component.status.CalculateStatus::getCalculateStatusIntervals : calculateStatus.getCalculateStatusIntervals() 
StatusPageServiceImpl::combineOneDayStatusPageHistory --> org.apache.hertzbeat.manager.component.status.CalculateStatus::getCalculateStatusIntervals : calculateStatus.getCalculateStatusIntervals() 
StatusPageServiceImpl::combineOneDayStatusPageHistory --> org.apache.hertzbeat.manager.component.status.CalculateStatus::getCalculateStatusIntervals : calculateStatus.getCalculateStatusIntervals() 
StatusPageServiceImpl::queryComponentStatus --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findById : statusPageComponentDao.findById(id).orElseThrow(()->newIllegalArgumentException("component not found")) 
StatusPageServiceImpl::queryComponentStatus --> org.apache.hertzbeat.manager.dao.StatusPageComponentDao::findById : statusPageComponentDao.findById(id) 
StatusPageServiceImpl::queryComponentStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::findStatusPageHistoriesByComponentIdAndTimestampBetween : statusPageHistoryDao.findStatusPageHistoriesByComponentIdAndTimestampBetween(component.getId(),todayStartTimestamp,nowTimestamp) 
StatusPageServiceImpl::queryComponentStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::findStatusPageHistoriesByComponentIdAndTimestampBetween : statusPageHistoryDao.findStatusPageHistoriesByComponentIdAndTimestampBetween(component.getId(),preTimestamp,todayStartTimestamp) 
StatusPageServiceImpl::queryComponentStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::deleteAll : statusPageHistoryDao.deleteAll(thisDayHistory) 
StatusPageServiceImpl::queryComponentStatus --> org.apache.hertzbeat.manager.dao.StatusPageHistoryDao::save : statusPageHistoryDao.save(statusPageHistory) 
StatusPageServiceImpl::queryStatusPageIncidents --> org.apache.hertzbeat.manager.dao.StatusPageIncidentDao::findAll : statusPageIncidentDao.findAll(sort) 
StatusPageServiceImpl::queryStatusPageIncident --> org.apache.hertzbeat.manager.dao.StatusPageIncidentDao::findById : statusPageIncidentDao.findById(id).orElse(null) 
StatusPageServiceImpl::queryStatusPageIncident --> org.apache.hertzbeat.manager.dao.StatusPageIncidentDao::findById : statusPageIncidentDao.findById(id) 
StatusPageServiceImpl::newStatusPageIncident --> org.apache.hertzbeat.manager.dao.StatusPageIncidentDao::save : statusPageIncidentDao.save(statusPageIncident) 
StatusPageServiceImpl::updateStatusPageIncident --> org.apache.hertzbeat.manager.dao.StatusPageIncidentDao::save : statusPageIncidentDao.save(statusPageIncident) 
StatusPageServiceImpl::deleteStatusPageIncident --> org.apache.hertzbeat.manager.dao.StatusPageIncidentDao::deleteById : statusPageIncidentDao.deleteById(id) 
class SystemGeneralConfigServiceImpl    {
  applicationContext : ApplicationContext
  SystemGeneralConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  handler(systemConfig : SystemConfig) : void
  type() : String
  getTypeReference() : TypeReference<SystemConfig>
  getType() : Type
}
SystemGeneralConfigServiceImpl::handler --> org.springframework.context.ApplicationContext::publishEvent : applicationContext.publishEvent(newSystemConfigChangeEvent(applicationContext)) 
class SystemSecretServiceImpl    {
  SystemSecretServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  type() : String
  getTypeReference() : TypeReference<SystemSecret>
  getType() : Type
}
class TagServiceImpl  implements org.apache.hertzbeat.manager.service.TagService  {
  tagDao : TagDao
  addTags(tags : List<Tag>) : void
  modifyTag(tag : Tag) : void
  getTags(search : String, type : Byte, pageIndex : int, pageSize : int) : Page<Tag>
  deleteTags(ids : HashSet<Long>) : void
}
TagServiceImpl::addTags --> org.apache.hertzbeat.manager.dao.TagDao::findTagByNameAndTagValue : tagDao.findTagByNameAndTagValue(tag.getName(),tag.getTagValue()) 
TagServiceImpl::addTags --> org.apache.hertzbeat.manager.dao.TagDao::saveAll : tagDao.saveAll(tags) 
TagServiceImpl::modifyTag --> org.apache.hertzbeat.manager.dao.TagDao::findById : tagDao.findById(tag.getId()) 
TagServiceImpl::modifyTag --> org.apache.hertzbeat.manager.dao.TagDao::findTagByNameAndTagValue : tagDao.findTagByNameAndTagValue(tag.getName(),tag.getTagValue()) 
TagServiceImpl::modifyTag --> org.apache.hertzbeat.manager.dao.TagDao::save : tagDao.save(tag) 
TagServiceImpl::getTags --> org.apache.hertzbeat.manager.dao.TagDao::findAll : tagDao.findAll(specification,pageRequest) 
TagServiceImpl::deleteTags --> org.apache.hertzbeat.manager.dao.TagDao::deleteTagsByIdIn : tagDao.deleteTagsByIdIn(ids) 
class TemplateConfigServiceImpl    {
  appService : AppService
  TemplateConfigServiceImpl(generalConfigDao : GeneralConfigDao, objectMapper : ObjectMapper) : None
  handler(templateConfig : TemplateConfig) : void
  type() : String
  getTypeReference() : TypeReference<TemplateConfig>
  getType() : Type
}
TemplateConfigServiceImpl::handler --> org.apache.hertzbeat.manager.service.AppService::updateCustomTemplateConfig : appService.updateCustomTemplateConfig(templateConfig) 
class YamlImExportServiceImpl    {
  type() : String
  getFileName() : String
  parseImport(is : InputStream) : List<ExportMonitorDTO>
  writeOs(monitorList : List<ExportMonitorDTO>, os : OutputStream) : void
}
}
interface AccountService    {
  authGetToken(loginDto : LoginDto) : Map<String,String>
  refreshToken(refreshToken : String) : RefreshTokenResponse
  generateToken() : String
}
interface AppService    {
  getAppParamDefines(app : String) : List<ParamDefine>
  getPushDefine(monitorId : Long) : Job
  getAutoGenerateDynamicDefine(monitorId : Long) : Job
  getAppDefine(app : String) : Job
  getAppDefineOption(app : String) : Optional<Job>
  getAppDefineMetricNames(app : String) : List<String>
  getI18nResources(lang : String) : Map<String,String>
  getI18nApps(lang : String) : Map<String,String>
  getAllAppHierarchy(lang : String) : List<Hierarchy>
  getAppHierarchy(app : String, lang : String) : List<Hierarchy>
  getAllAppDefines() : Map<String,Job>
  getMonitorDefineFileContent(app : String) : String
  applyMonitorDefineYml(ymlContent : String, isModify : boolean) : void
  deleteMonitorDefine(app : String) : void
  updateCustomTemplateConfig(config : TemplateConfig) : void
}
interface BulletinService    {
  validate(bulletin : Bulletin) : void
  getBulletinById(id : Long) : Optional<Bulletin>
  editBulletin(bulletin : Bulletin) : void
  addBulletin(bulletin : Bulletin) : void
  buildBulletinMetricsData(id : Long) : BulletinMetricsData
  getBulletins(search : String, pageIndex : Integer, pageSize : Integer) : Page<Bulletin>
  deleteBulletins(ids : List<Long>) : void
}
interface CollectorService    {
  getCollectors(name : String, pageIndex : int, pageSize : Integer) : Page<CollectorSummary>
  deleteRegisteredCollector(collectors : List<String>) : void
  hasCollector(collector : String) : boolean
  generateCollectorDeployInfo(collector : String) : Map<String,String>
  makeCollectorsOffline(collectors : List<String>) : void
  makeCollectorsOnline(collectors : List<String>) : void
}
interface ConfigService    {
  saveConfig(type : String, config : Object) : void
  getConfig(type : String) : Object
  updateTemplateAppConfig(app : String, template : TemplateConfig.AppTemplate) : void
}
interface ImExportService    {
  importConfig(taskName : String, is : InputStream) : void
  exportConfig(os : OutputStream, configList : List<Long>) : void
  type() : String
  getFileName() : String
}
interface MonitorService    {
  detectMonitor(monitor : Monitor, params : List<Param>, collector : String) : void
  addMonitor(monitor : Monitor, params : List<Param>, collector : String, dashboard : GrafanaDashboard) : void
  validate(monitorDto : MonitorDto, isModify : Boolean) : void
  modifyMonitor(monitor : Monitor, params : List<Param>, collector : String, dashboard : GrafanaDashboard) : void
  deleteMonitor(id : long) : void
  deleteMonitors(ids : Set<Long>) : void
  getMonitorDto(id : long) : MonitorDto
  getMonitors(monitorIds : List<Long>, app : String, search : String, status : Byte, sort : String, order : String, pageIndex : int, pageSize : int, labels : String) : Page<Monitor>
  cancelManageMonitors(ids : HashSet<Long>) : void
  enableManageMonitors(ids : HashSet<Long>) : void
  getAllAppMonitorsCount() : List<AppCount>
  getMonitor(monitorId : Long) : Monitor
  updateMonitorStatus(monitorId : Long, status : byte) : void
  getAppMonitors(app : String) : List<Monitor>
  export(ids : List<Long>, type : String, res : HttpServletResponse) : void
  importConfig(file : MultipartFile) : void
  copyMonitors(ids : List<Long>) : void
  updateAppCollectJob(job : Job) : void
  addAndSaveMonitorJob(monitor : Monitor, params : List<Param>, collector : String, sdMonitorParam : SdMonitorParam, grafanaDashboard : GrafanaDashboard) : void
  copyMonitor(id : Long) : void
}
interface ObjectStoreService    {
  upload(filePath : String, is : InputStream) : boolean
  remove(filePath : String) : void
  isExist(filePath : String) : boolean
  download(filePath : String) : FileDTO
  list(dir : String) : List<FileDTO>
  type() : ObjectStoreDTO.Type
}
interface PluginService    {
  savePlugin(pluginUpload : PluginUpload) : void
  pluginIsEnable(clazz : Class<?>) : boolean
  getPlugins(search : String, pageIndex : int, pageSize : int) : Page<PluginMetadata>
  pluginExecute(clazz : Class<T>, execute : Consumer<T>) : void
  pluginExecute(clazz : Class<T>, execute : BiConsumer<T,PluginContext>) : void
  deletePlugins(ids : Set<Long>) : void
  updateStatus(plugin : PluginMetadata) : void
  getParamDefine(pluginMetadataId : Long) : PluginParametersVO
  savePluginParam(params : List<PluginParam>) : void
}
interface StatusPageService    {
  queryStatusPageOrg() : StatusPageOrg
  saveStatusPageOrg(statusPageOrg : StatusPageOrg) : StatusPageOrg
  queryStatusPageComponents() : List<StatusPageComponent>
  newStatusPageComponent(statusPageComponent : StatusPageComponent) : void
  updateStatusPageComponent(statusPageComponent : StatusPageComponent) : void
  deleteStatusPageComponent(id : long) : void
  queryStatusPageComponent(id : long) : StatusPageComponent
  queryComponentsStatus() : List<ComponentStatus>
  queryComponentStatus(id : long) : ComponentStatus
  queryStatusPageIncidents() : List<StatusPageIncident>
  queryStatusPageIncident(id : long) : StatusPageIncident
  newStatusPageIncident(statusPageIncident : StatusPageIncident) : void
  updateStatusPageIncident(statusPageIncident : StatusPageIncident) : void
  deleteStatusPageIncident(id : long) : void
}
interface TagService    {
  addTags(tags : List<Tag>) : void
  modifyTag(tag : Tag) : void
  getTags(search : String, type : Byte, pageIndex : int, pageSize : int) : Page<Tag>
  deleteTags(ids : HashSet<Long>) : void
}
}
package support {
package exception {
class MonitorDatabaseException    {
  MonitorDatabaseException(message : String) : None
}
class MonitorDetectException    {
  MonitorDetectException(message : String) : None
}
class MonitorMetricsException    {
  MonitorMetricsException(message : String) : None
}
}
class GlobalExceptionHandler    {
  CONNECT_STR : String
  handleMonitorDetectException(exception : MonitorDetectException) : ResponseEntity<Message<Void>>
  handleMonitorDatabaseException(exception : MonitorDatabaseException) : ResponseEntity<Message<Void>>
  handleCommonException(exception : CommonException) : ResponseEntity<Message<Void>>
  handleIllegalArgumentException(exception : IllegalArgumentException) : ResponseEntity<Message<Void>>
  handleAlertNoticeException(noticeException : AlertNoticeException) : ResponseEntity<Message<Void>>
  handleHttpMessageNotReadableException(exception : HttpMessageNotReadableException) : ResponseEntity<Message<Void>>
  handleInputValidException(e : Exception) : ResponseEntity<Message<Void>>
  handleInputOtherValidException(e : ConstraintViolationException) : ResponseEntity<Message<Void>>
  handleDataAccessException(exception : DataAccessException) : ResponseEntity<Message<Void>>
  handleMethodNotSupportException(exception : HttpRequestMethodNotSupportedException) : ResponseEntity<Message<Void>>
  handleMonitorMetricsException(exception : MonitorMetricsException) : ResponseEntity<Message<Void>>
  ignoreNoResourceFoundException(ex : Exception) : void
  handleUnknownException(exception : Exception) : ResponseEntity<Message<Void>>
}
}
class Manager    {
  main(args : String[]) : void
  init() : void
}
}
}
}
}
@enduml
